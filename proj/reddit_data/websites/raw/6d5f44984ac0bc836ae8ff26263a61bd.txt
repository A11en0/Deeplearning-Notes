<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="http://gmpg.org/xfn/11">

<title>Anatomy of a Linux DNS Lookup &#8211; Part I &#8211; zwischenzugs</title>

<!-- Async WordPress.com Remote Login -->
<script id="wpcom_remote_login_js">
var wpcom_remote_login_extra_auth = '';
function wpcom_remote_login_remove_dom_node_id( element_id ) {
	var dom_node = document.getElementById( element_id );
	if ( dom_node ) { dom_node.remove(); }
}
function wpcom_remote_login_remove_dom_node_classes( class_name ) {
	var dom_nodes = document.querySelectorAll( '.' + class_name );
	for ( var i = 0; i < dom_nodes.length; i++ ) {
		dom_nodes[i].remove();
	}
}
function wpcom_remote_login_final_cleanup() {
	wpcom_remote_login_remove_dom_node_classes( "wpcom_remote_login_msg" );
	wpcom_remote_login_remove_dom_node_id( "wpcom_remote_login_key" );
	wpcom_remote_login_remove_dom_node_id( "wpcom_remote_login_validate" );
	wpcom_remote_login_remove_dom_node_id( "wpcom_remote_login_js" );
	wpcom_remote_login_remove_dom_node_id( "wpcom_request_access_iframe" );
	wpcom_remote_login_remove_dom_node_id( "wpcom_request_access_styles" );
}

// Watch for messages back from the remote login
window.addEventListener( "message", function( e ) {
	if ( e.origin === "https://r-login.wordpress.com" ) {
		var data = {};
		try {
			data = JSON.parse( e.data );
		} catch( e ) {
			wpcom_remote_login_final_cleanup();
			return;
		}

		if ( data.msg === 'LOGIN' ) {
			// Clean up the login check iframe
			wpcom_remote_login_remove_dom_node_id( "wpcom_remote_login_key" );

			var id_regex = new RegExp( /^[0-9]+$/ );
			var token_regex = new RegExp( /^.*|.*|.*$/ );
			if (
				token_regex.test( data.token )
				&& id_regex.test( data.wpcomid )
			) {
				// We have everything we need to ask for a login
				var script = document.createElement( "script" );
				script.setAttribute( "id", "wpcom_remote_login_validate" );
				script.src = '/remote-login.php?wpcom_remote_login=validate'
					+ '&wpcomid=' + data.wpcomid
					+ '&token=' + encodeURIComponent( data.token )
					+ '&host=' + window.location.protocol
						+ '//' + window.location.hostname;
				document.body.appendChild( script );
			}

			return;
		}

		// Safari ITP, not logged in, so redirect
		if ( data.msg === 'LOGIN-REDIRECT' ) {
			window.location = 'https://wordpress.com/log-in?redirect_to=' + window.location.href;
			return;
		}

		// Safari ITP, storage access failed, remove the request
		if ( data.msg === 'LOGIN-REMOVE' ) {
			var css_zap = 'html { -webkit-transition: margin-top 1s; transition: margin-top 1s; } /* 9001 */ html { margin-top: 0 !important; } * html body { margin-top: 0 !important; } @media screen and ( max-width: 782px ) { html { margin-top: 0 !important; } * html body { margin-top: 0 !important; } }';
			var style_zap = document.createElement( 'style' );
			style_zap.type = 'text/css';
			style_zap.appendChild( document.createTextNode( css_zap ) );
			document.body.appendChild( style_zap );

			var e = document.getElementById( 'wpcom_request_access_iframe' );
			e.parentNode.removeChild( e );

			document.cookie = 'wordpress_com_login_access=denied; path=/; max-age=31536000';

			return;
		}

		// Safari ITP
		if ( data.msg === 'REQUEST_ACCESS' ) {
			console.log( 'request access: safari' );

			// Check ITP iframe enable/disable knob
			if ( wpcom_remote_login_extra_auth !== 'safari_itp_iframe' ) {
				return;
			}

			// If we are in a "private window" there is no ITP.
			var private_window = false;
			try {
				var opendb = window.openDatabase( null, null, null, null );
			} catch( e ) {
				private_window = true;
			}

			if ( private_window ) {
				console.log( 'private window' );
				return;
			}

			var iframe = document.createElement( 'iframe' );
			iframe.id = 'wpcom_request_access_iframe';
			iframe.setAttribute( 'scrolling', 'no' );
			iframe.setAttribute( 'sandbox', 'allow-storage-access-by-user-activation allow-scripts allow-same-origin allow-top-navigation-by-user-activation' );
			iframe.src = 'https://r-login.wordpress.com/remote-login.php?wpcom_remote_login=request_access&origin=' + encodeURIComponent( data.origin ) + '&wpcomid=' + encodeURIComponent( data.wpcomid );

			var css = 'html { -webkit-transition: margin-top 1s; transition: margin-top 1s; } /* 9001 */ html { margin-top: 46px !important; } * html body { margin-top: 46px !important; } @media screen and ( max-width: 660px ) { html { margin-top: 71px !important; } * html body { margin-top: 71px !important; } #wpcom_request_access_iframe { display: block; height: 71px !important; } } #wpcom_request_access_iframe { border: 0px; height: 46px; position: fixed; top: 0; left: 0; width: 100%; min-width: 100%; z-index: 99999; background: #23282d; } ';

			var style = document.createElement( 'style' );
			style.type = 'text/css';
			style.id = 'wpcom_request_access_styles';
			style.appendChild( document.createTextNode( css ) );
			document.body.appendChild( style );

			document.body.appendChild( iframe );
		}

		if ( data.msg === 'DONE' ) {
			wpcom_remote_login_final_cleanup();
		}
	}
}, false );

// Inject the remote login iframe after the page has had a chance to load
// more critical resources
window.addEventListener( "DOMContentLoaded", function( e ) {
	var iframe = document.createElement( "iframe" );
	iframe.style.display = "none";
	iframe.setAttribute( "scrolling", "no" );
	iframe.setAttribute( "id", "wpcom_remote_login_key" );
	iframe.src = "https://r-login.wordpress.com/remote-login.php"
		+ "?wpcom_remote_login=key"
		+ "&origin=aHR0cHM6Ly96d2lzY2hlbnp1Z3MuY29t"
		+ "&wpcomid=20870870"
		+ "&time=1575782981";
	document.body.appendChild( iframe );
}, false );
</script>
<link rel='dns-prefetch' href='//s2.wp.com' />
<link rel='dns-prefetch' href='//s1.wp.com' />
<link rel='dns-prefetch' href='//zwischenzugs.wordpress.com' />
<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//widgets.wp.com' />
<link rel="alternate" type="application/rss+xml" title="zwischenzugs &raquo; Feed" href="https://zwischenzugs.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="zwischenzugs &raquo; Comments Feed" href="https://zwischenzugs.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="zwischenzugs &raquo; Anatomy of a Linux DNS Lookup &#8211; Part&nbsp;I Comments Feed" href="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/feed/" />
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s0.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1573557586h&ver=5.3"}};
			!function(e,a,t){var r,n,o,i,p=a.createElement("canvas"),s=p.getContext&&p.getContext("2d");function c(e,t){var a=String.fromCharCode;s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,e),0,0);var r=p.toDataURL();return s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,t),0,0),r===p.toDataURL()}function l(e){if(!s||!s.fillText)return!1;switch(s.textBaseline="top",s.font="600 32px Arial",e){case"flag":return!c([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])&&(!c([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!c([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]));case"emoji":return!c([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340])}return!1}function d(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(i=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},o=0;o<i.length;o++)t.supports[i[o]]=l(i[o]),t.supports.everything=t.supports.everything&&t.supports[i[o]],"flag"!==i[o]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[i[o]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(r=t.source||{}).concatemoji?d(r.concatemoji):r.wpemoji&&r.twemoji&&(d(r.twemoji),d(r.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='all-css-0-1' href='https://s1.wp.com/_static/??-eJyNkdFuwyAMRX9o4GRdlu1h2rcAcTNaExA2mvr3oyR9abdoL0jXvgebC3wn5eIiuAiEohKV2S8MGckITipFljulHfMT/I6RPyPDCSUZd1ZNPdhv3rlUaTHPtZMRRt3pDmzxNIGl2HCbTb4Ay4XwH9c0iqvHxXAT+6yLm63X/agPMHmWdTjrlWz7/MkfC5FiL6hw8uKXeQsCOt2/6mdoedV3sKz7rAPuq3uBXqOp9ZCMXB2hzjFIGKptD9sysCkjs6pn8CUo+apg+5DP8NEP4zC8vL13h9MP/iK/Uw==?cssminify=yes' type='text/css' media='all' />
<link rel='stylesheet' id='wpcom-block-editor-styles-css'  href='//widgets.wp.com/wpcom-block-editor/common.min.css?ver=20191125210840' media='all' />
<link rel='stylesheet' id='all-css-2-1' href='https://s2.wp.com/_static/??-eJydkNEKwjAMRX/IGhWm+CB+y9bFLtqmpc0Y/r3RIU7EPQxCuZdyktzAkIyNLMgCoTfJ9464gEPGTPrxR65tKSuYsNJhwAKpb4C4xYT6sBj1nkqH2eygyN3jElARaHy0t0Vjie042gzJxvDTYpJ6oNahFJCYTIpF1WRnAo4y3uEt5no5jEZ3roUifxlz8TXlOTSjpnUq3Sv6xz6hczhtq+q419ocrg+qQafx?cssminify=yes' type='text/css' media='all' />
<style id='independent-publisher-2-style-inline-css'>
.published-on, .post-permalink, .site-posted-on, .cat-links, .byline { clip: rect(1px, 1px, 1px, 1px); height: 1px; position: absolute; overflow: hidden; width: 1px; }
</style>
<link rel='stylesheet' id='print-css-3-1' href='https://s2.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1465851035h&cssminify=yes' type='text/css' media='print' />
<link rel='stylesheet' id='all-css-4-1' href='https://s0.wp.com/_static/??-eJx9jt0OgjAMRl/IUVDw58LwLGWOUS0boSXGt3cmEDEkXrVNzvf1wHMwNgZ1QaGfzMCTpyCAVimGBsfvllmRHazwhW0nZiOkzrgbKQU/t0CeFcdsD55jg4nQFzsBUVSy0DCGx6ZyZTBEUdMy0gjS4Zhql/kvJdFS+sXRx99jE9LO9UmnK2e/D1D316I6VVV5vuSH+xu+6GgR?cssminify=yes' type='text/css' media='all' />
<style id='jetpack-global-styles-frontend-style-inline-css'>
@import url('https://fonts.googleapis.com/css?family=-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif:regular,bold,italic,bolditalic|-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif:regular,bold,italic,bolditalic|');:root { --font-headings: unset; --font-base: unset; --font-headings-default: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif; --font-base-default: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;}
</style>
<script>
var related_posts_js_options = {"post_heading":"h4"};
</script>
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyFj9EOwiAMRX9Ihntw0wfjtyCrpAgFKbjo1wuJPrgsmjRpbnpy762co0DSrkzA0ta5FUiP9+osb+QvQHg0SWXoPNIH1oEyUG5sDJw9MCsDK1cfzuhAFIZUAco15hKWnC8iumKQWCZwNWoSzXWhVty/H0G6I8x/MQs5Kn0VCRifrfPJH/vd2B+24zDs7QszQHB9'></script>
<link rel='stylesheet' id='all-css-0-2' href='https://s0.wp.com/wp-content/mu-plugins/highlander-comments/style.css?m=1530132353h&cssminify=yes' type='text/css' media='all' />
<!--[if lt IE 8]>
<link rel='stylesheet' id='highlander-comments-ie7-css'  href='https://s2.wp.com/wp-content/mu-plugins/highlander-comments/style-ie7.css?m=1351637563h&#038;ver=20110606' media='all' />
<![endif]-->
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://zwischenzugs.wordpress.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='A Docker Image in Less Than 1000&nbsp;Bytes' href='https://zwischenzugs.com/2018/05/22/a-docker-image-in-less-than-1000-bytes/' />
<link rel='next' title='Anatomy of a Linux DNS Lookup &#8211; Part&nbsp;II' href='https://zwischenzugs.com/2018/06/18/anatomy-of-a-linux-dns-lookup-part-ii/' />
<meta name="generator" content="WordPress.com" />
<link rel="canonical" href="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/" />
<link rel='shortlink' href='https://wp.me/p1pzsW-19j' />
<link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/?format=json&amp;url=https%3A%2F%2Fzwischenzugs.com%2F2018%2F06%2F08%2Fanatomy-of-a-linux-dns-lookup-part-i%2F&amp;for=wpcom-auto-discovery" /><link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/?format=xml&amp;url=https%3A%2F%2Fzwischenzugs.com%2F2018%2F06%2F08%2Fanatomy-of-a-linux-dns-lookup-part-i%2F&amp;for=wpcom-auto-discovery" />
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Anatomy of a Linux DNS Lookup &#8211; Part I" />
<meta property="og:url" content="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/" />
<meta property="og:description" content="&nbsp; Since I work a lot with clustered VMs, I&#8217;ve ended up spending a lot of time trying to figure out how DNS lookups work. I applied &#8216;fixes&#8217; to my problems from StackOverflow w…" />
<meta property="article:published_time" content="2018-06-08T16:15:48+00:00" />
<meta property="article:modified_time" content="2018-12-24T14:36:50+00:00" />
<meta property="og:site_name" content="zwischenzugs" />
<meta property="og:image" content="https://zwischenzugs.files.wordpress.com/2018/06/learn_terraform_the_hard_way.jpg" />
<meta property="og:image:width" content="1410" />
<meta property="og:image:height" content="2250" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:creator" content="@ianmiell" />
<meta name="twitter:site" content="@ianmiell" />
<meta name="twitter:text:title" content="Anatomy of a Linux DNS Lookup &#8211; Part&nbsp;I" />
<meta name="twitter:card" content="summary" />
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom" />

<!-- End Jetpack Open Graph Tags -->
<link rel="shortcut icon" type="image/x-icon" href="https://s1.wp.com/i/favicon.ico" sizes="16x16 24x24 32x32 48x48" />
<link rel="icon" type="image/x-icon" href="https://s1.wp.com/i/favicon.ico" sizes="16x16 24x24 32x32 48x48" />
<link rel="apple-touch-icon-precomposed" href="https://s2.wp.com/i/webclip.png" />
<link rel='openid.server' href='https://zwischenzugs.com/?openidserver=1' />
<link rel='openid.delegate' href='https://zwischenzugs.com/' />
<link rel="search" type="application/opensearchdescription+xml" href="https://zwischenzugs.com/osd.xml" title="zwischenzugs" />
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com" />
<link rel="pingback" href="https://zwischenzugs.com/xmlrpc.php">		<style type="text/css">
			.recentcomments a {
				display: inline !important;
				padding: 0 !important;
				margin: 0 !important;
			}

			table.recentcommentsavatartop img.avatar, table.recentcommentsavatarend img.avatar {
				border: 0px;
				margin: 0;
			}

			table.recentcommentsavatartop a, table.recentcommentsavatarend a {
				border: 0px !important;
				background-color: transparent !important;
			}

			td.recentcommentsavatarend, td.recentcommentsavatartop {
				padding: 0px 0px 1px 0px;
				margin: 0px;
			}

			td.recentcommentstextend {
				border: none !important;
				padding: 0px 0px 2px 10px;
			}

			.rtl td.recentcommentstextend {
				padding: 0px 10px 2px 0px;
			}

			td.recentcommentstexttop {
				border: none;
				padding: 0px 0px 0px 10px;
			}

			.rtl td.recentcommentstexttop {
				padding: 0px 10px 0px 0px;
			}
		</style>
		<meta name="application-name" content="zwischenzugs" /><meta name="msapplication-window" content="width=device-width;height=device-height" /><meta name="msapplication-task" content="name=Subscribe;action-uri=https://zwischenzugs.com/feed/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico" /><meta name="description" content="&nbsp; Since I work a lot with clustered VMs, I&#039;ve ended up spending a lot of time trying to figure out how DNS lookups work. I applied &#039;fixes&#039; to my problems from StackOverflow without really understanding why they work (or don&#039;t work) for some time. Eventually I got fed up with this and decided to&hellip;" />
<link rel="amphtml" href="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/amp/"></head>

<body class="post-template-default single single-post postid-4421 single-format-standard wp-embed-responsive customizer-styles-applied has-sidebar date-hidden categories-hidden author-hidden highlander-enabled highlander-light">

<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

	<div id="hero-header" class="site-hero-section">
		<header id="masthead" class="site-header" role="banner">
			<div class="inner">
				<div class="site-branding">
					
											<a class="site-logo-link" href="https://zwischenzugs.com/">
							<img alt="" class="site-logo-image no-grav" width="80" height="80" src="https://secure.gravatar.com/avatar/4f37af910d4d089ee4a4b5d4782ca78e?s=160&#038;d=identicon&#038;r=g" />
						</a><!-- .site-logo-link -->
													<p class="site-title"><a href="https://zwischenzugs.com/" rel="home">zwischenzugs</a></p>
										</div><!-- .site-branding -->

				
				
			</div><!-- .inner -->
		</header><!-- #masthead -->
	</div>

		
	
	
	<div id="content-wrapper" class="content-wrapper">
		<div id="content" class="site-content">

	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			
<article id="post-4421" class="post-4421 post type-post status-publish format-standard hentry category-uncategorized">
			<header class="entry-header">
			<h1 class="entry-title">Anatomy of a Linux DNS Lookup &#8211; Part&nbsp;I</h1>		</header><!-- .entry-header -->		<div class="entry-meta">
			<span class="byline">
				<a href="https://zwischenzugs.com/author/zwischenzugs/" title="Posts by zwischenzugs" rel="author">zwischenzugs</a>			</span>
							<span class="cat-links">
					<a href="https://zwischenzugs.com/category/uncategorized/" rel="category tag">Uncategorized</a>				</span><!-- .cat-links -->
			
			
			<span class="published-on">
				<time class="entry-date published" datetime="2018-06-08T16:15:48+01:00">June 8, 2018</time><time class="updated" datetime="2018-12-24T14:36:50+00:00">December 24, 2018</time>			</span>

			<span class="word-count">6 Minutes</span>		</div><!-- .entry-meta -->
	
	<div class="entry-content">
		<p>&nbsp;</p>
<p>Since I <a href="https://zwischenzugs.com/2017/10/31/a-complete-chef-infrastructure-on-your-laptop/">work</a> <a href="https://zwischenzugs.com/2017/03/04/a-complete-openshift-cluster-on-vagrant-step-by-step/">a</a> <a href="https://zwischenzugs.com/2017/03/04/migrating-an-openshift-etcd-cluster/">lot</a> <a href="https://zwischenzugs.com/2017/03/04/1-minute-multi-node-vm-setup/">with</a> <a href="https://zwischenzugs.com/2017/03/18/clustered-vm-testing-how-to/">clustered</a> <a href="https://zwischenzugs.com/2017/10/27/ten-things-i-wish-id-known-before-using-vagrant/">VMs</a>, I&#8217;ve ended up spending a lot of time trying to figure out how <a href="https://zwischenzugs.com/2017/10/21/openshift-3-6-dns-in-pictures/">DNS lookups</a> work. I applied &#8216;fixes&#8217; to my problems from StackOverflow without really understanding why they work (or don&#8217;t work) for some time.</p>
<p>Eventually I got fed up with this and decided to figure out how it all hangs together. I couldn&#8217;t find a complete guide for this anywhere online, and talking to colleagues they didn&#8217;t know of any (or really what happens in detail)</p>
<p>So I&#8217;m writing the guide myself.</p>
<p>Turns out there&#8217;s quite a bit in the phrase &#8216;Linux does a DNS lookup&#8217;&#8230;</p>
<hr />
<p style="text-align:right;"><strong>Other posts in the series:</strong></p>
<p style="text-align:right;"><strong><a href="https://zwischenzugs.com/2018/06/18/anatomy-of-a-linux-dns-lookup-part-ii/">Anatomy of a Linux DNS Lookup – Part II</a></strong></p>
<p style="text-align:right;"><strong><a href="https://zwischenzugs.com/2018/07/06/anatomy-of-a-linux-dns-lookup-part-iii/">Anatomy of a Linux DNS Lookup – Part III</a></strong></p>
<p style="text-align:right;"><strong><a href="https://zwischenzugs.com/2018/08/06/anatomy-of-a-linux-dns-lookup-part-iv/">Anatomy of a Linux DNS Lookup – Part IV</a></strong></p>
<p style="text-align:right;"><strong><a href="https://zwischenzugs.com/2018/09/13/anatomy-of-a-linux-dns-lookup-part-v-two-debug-nightmares/">Anatomy of a Linux DNS Lookup – Part V – Two Debug Nightmares</a></strong></p>
<hr />
<p><img data-attachment-id="4427" data-permalink="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/linux-dns-0/" data-orig-file="https://zwischenzugs.files.wordpress.com/2018/06/linux-dns-0.png" data-orig-size="121,201" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="linux-dns-0" data-image-description="" data-medium-file="https://zwischenzugs.files.wordpress.com/2018/06/linux-dns-0.png?w=121" data-large-file="https://zwischenzugs.files.wordpress.com/2018/06/linux-dns-0.png?w=121" class="alignnone size-full wp-image-4427 aligncenter" src="https://zwischenzugs.files.wordpress.com/2018/06/linux-dns-0.png?w=1100" alt="linux-dns-0"   /></p>
<p style="text-align:center;"><em><strong>&#8220;How hard can it be?&#8221;</strong></em></p>
<hr />
<p><strong>These posts are intended to break down how a program decides how it gets an IP address on a Linux host, and the components that can get involved.</strong> Without understanding how these pieces fit together, debugging and fixing problems with (for example) <code>dnsmasq</code>, <code>vagrant landrush</code>, or <code>resolvconf</code> can be utterly bewildering.</p>
<p>It&#8217;s also a valuable illustration of how something so simple can get so very complex over time. I&#8217;ve looked at over a dozen different technologies and their archaeologies so far while trying to grok what&#8217;s going on.</p>
<p>I even wrote some <a href="https://github.com/ianmiell/shutit-linux-dns/blob/master/linux_dns.py">automation code</a> to allow me to experiment in a VM. Contributions/corrections are welcome.</p>
<p><strong>Note that this is not a post on &#8216;how DNS works&#8217;.</strong> This is about everything up to the call to the actual DNS server that&#8217;s configured on a linux host (assuming it even calls a DNS server &#8211; as you&#8217;ll see, it need not), and how it might find out which one to go to, or how it gets the IP some other way.</p>
<hr />
<h1>1) There is no such thing as a &#8216;DNS Lookup&#8217; call</h1>
<hr />
<p><img data-attachment-id="4423" data-permalink="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/linux-dns-1/" data-orig-file="https://zwischenzugs.files.wordpress.com/2018/06/linux-dns-1.png" data-orig-size="121,201" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="linux-dns-1" data-image-description="" data-medium-file="https://zwischenzugs.files.wordpress.com/2018/06/linux-dns-1.png?w=121" data-large-file="https://zwischenzugs.files.wordpress.com/2018/06/linux-dns-1.png?w=121" class="alignnone size-full wp-image-4423 aligncenter" src="https://zwischenzugs.files.wordpress.com/2018/06/linux-dns-1.png?w=1100" alt="linux-dns-1"   /></p>
<p style="text-align:center;"><strong><em>This is NOT how it works</em></strong></p>
<hr />
<p><strong>The first thing to grasp is that there is no single method of getting a DNS lookup done on Linux.</strong> It&#8217;s not a core system call with a clean interface.</p>
<p>There is, however, a standard C library call called which many programs use: <code><a href="http://man7.org/linux/man-pages/man3/getaddrinfo.3.html">getaddrinfo</a></code>. But not all applications use this!</p>
<p>Let&#8217;s just take two simple standard programs: <code>ping</code> and <code>host</code>:</p>
<pre class="p1"><span class="s1">root@linuxdns1:~# <strong>ping</strong> -c1 bbc.co.uk | head -1</span>
<span class="s1">PING bbc.co.uk (<strong>151.101.192.81</strong>) 56(84) bytes of data.</span></pre>
<pre class="p1"><span class="s1">root@linuxdns1:~# <strong>host</strong> bbc.co.uk | head -1</span>
<span class="s1">bbc.co.uk has address <strong>151.101.192.81</strong></span></pre>
<p>They both get the same result, so they must be doing the same thing, right?</p>
<p>Wrong.</p>
<p>Here&#8217;s the files that <code>ping</code> looks at on my host that are relevant to DNS:</p>
<pre class="p1"><span class="s1">root@linuxdns1:~# strace -e trace=open -f ping -c1 google.com</span>
<span class="s1">open("/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3</span>
<span class="s1">open("/lib/x86_64-linux-gnu/libcap.so.2", O_RDONLY|O_CLOEXEC) = 3</span>
<span class="s1">open("/lib/x86_64-linux-gnu/libc.so.6", O_RDONLY|O_CLOEXEC) = 3</span>
<span class="s1">open("/etc/resolv.conf", O_RDONLY|O_CLOEXEC) = 4</span>
<span class="s1">open("/etc/resolv.conf", O_RDONLY|O_CLOEXEC) = 4</span>
<span class="s1">open("/etc/nsswitch.conf", O_RDONLY|O_CLOEXEC) = 4</span>
<span class="s1">open("/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 4</span>
<span class="s1">open("/lib/x86_64-linux-gnu/libnss_files.so.2", O_RDONLY|O_CLOEXEC) = 4</span>
<span class="s1">open("/etc/host.conf", O_RDONLY|O_CLOEXEC) = 4</span>
<span class="s1">open("/etc/hosts", O_RDONLY|O_CLOEXEC)<span class="Apple-converted-space">  </span>= 4</span>
<span class="s1">open("/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 4</span>
<span class="s1">open("/lib/x86_64-linux-gnu/libnss_dns.so.2", O_RDONLY|O_CLOEXEC) = 4</span>
<span class="s1">open("/lib/x86_64-linux-gnu/libresolv.so.2", O_RDONLY|O_CLOEXEC) = 4</span>
<span class="s1">PING google.com (216.58.204.46) 56(84) bytes of data.</span>
<span class="s1">open("/etc/hosts", O_RDONLY|O_CLOEXEC)<span class="Apple-converted-space">  </span>= 4</span>
<span class="s1">64 bytes from lhr25s12-in-f14.1e100.net (216.58.204.46): icmp_seq=1 ttl=63 time=13.0 ms</span>
[...]</pre>
<p>and the same for <code>host</code>:</p>
<pre><span class="s1">$ strace -e trace=open -f host google.com
[...]</span>
<span class="s1">[pid<span class="Apple-converted-space">  </span>9869] open("/usr/share/locale/en_US.UTF-8/LC_MESSAGES/libdst.cat", O_RDONLY) = -1 ENOENT (No such file or directory)</span>
<span class="s1">[pid<span class="Apple-converted-space">  </span>9869] open("/usr/share/locale/en/libdst.cat", O_RDONLY) = -1 ENOENT (No such file or directory)</span>
<span class="s1">[pid<span class="Apple-converted-space">  </span>9869] open("/usr/share/locale/en/LC_MESSAGES/libdst.cat", O_RDONLY) = -1 ENOENT (No such file or directory)</span>
<span class="s1">[pid<span class="Apple-converted-space">  </span>9869] open("/usr/lib/ssl/openssl.cnf", O_RDONLY) = 6
</span><span class="s1">[pid<span class="Apple-converted-space">  </span>9869] open("/usr/lib/x86_64-linux-gnu/openssl-1.0.0/engines/libgost.so", O_RDONLY|O_CLOEXEC) = 6</span><span class="s1">[pid<span class="Apple-converted-space">  </span>9869] open("/etc/resolv.conf", O_RDONLY) = 6
</span><span class="s1">google.com has address 216.58.204.46
[...]</span></pre>
<p>You can see that while my <code>ping</code> looks at <code>nsswitch.conf</code>, <code>host</code> does not. And they both look at <code>/etc/resolv.conf</code>.</p>
<p>We&#8217;re going to take these two <code>.conf</code> files in turn.</p>
<hr />
<h1>2) NSSwitch, and <code>/etc/nsswitch.conf</code></h1>
<p>We&#8217;ve established that applications can do what they like when they decide which DNS server to go to. Many apps (like <code>ping</code>) above can refer (depending on the implementation <strong>(*)</strong>) to NSSwitch via its config file <code>/etc/nsswitch.conf</code>.</p>
<h6 style="text-align:right;">(*) There&#8217;s a surprising degree of variation in<br />
ping implementations. That&#8217;s a rabbit-hole I<br />
<em>didn&#8217;t</em> want to get lost in.</h6>
<p>NSSwitch is not just for DNS lookups. It&#8217;s also used for passwords and user lookup information (for example).</p>
<p>NSSwitch was originally created as part of the Solaris OS to allow applications to not have to hard-code which file or service they look these things up on, but defer them to this other configurable centralised place they didn&#8217;t have to worry about.</p>
<p>Here&#8217;s my <code>nsswitch.conf</code>:</p>
<pre class="p1"><span class="s1">passwd: <span class="Apple-converted-space">        </span>compat</span>
<span class="s1">group:<span class="Apple-converted-space">          </span>compat</span>
<span class="s1">shadow: <span class="Apple-converted-space">        </span>compat</span>
<span class="s1">gshadow:<span class="Apple-converted-space">        </span>files</span>
<strong><span class="s1">hosts: files dns myhostname</span></strong>
<span class="s1">networks: <span class="Apple-converted-space">      </span>files</span>
<span class="s1">protocols:<span class="Apple-converted-space">      </span>db files</span>
<span class="s1">services: <span class="Apple-converted-space">      </span>db files</span>
<span class="s1">ethers: <span class="Apple-converted-space">        </span>db files</span>
<span class="s1">rpc:<span class="Apple-converted-space">            </span>db files</span>
<span class="s1">netgroup: <span class="Apple-converted-space">      </span>nis</span></pre>
<p>The &#8216;hosts&#8217; line is the one we&#8217;re interested in. We&#8217;ve shown that <code>ping</code> cares about <code>nsswitch.conf</code> so let&#8217;s fiddle with it and see how we can mess with <code>ping</code>.</p>
<ul>
<li>
<h3>Set <code>nsswitch.conf</code> to only look at &#8216;files&#8217;</h3>
</li>
</ul>
<p>If you set the <code>hosts</code> line in <code>nsswitch.conf</code> to be &#8216;just&#8217; <code>files</code>:</p>
<p><code>hosts: files</code></p>
<p>Then a <code>ping</code> to google.com will now fail:</p>
<pre class="p1"><span class="s1">$ ping -c1 google.com
</span><span class="s1">ping: unknown host google.com</span></pre>
<p>but <code>localhost</code> still works:</p>
<pre class="p1"><span class="s1">$ ping -c1 localhost
</span><span class="s1">PING localhost (127.0.0.1) 56(84) bytes of data.
</span><span class="s1">64 bytes from localhost (127.0.0.1): icmp_seq=1 ttl=64 time=0.039 ms</span></pre>
<p>and using <code>host</code> still works fine:</p>
<pre>$ <span class="s1">host google.com
</span><span class="s1">google.com has address 216.58.206.110</span></pre>
<p>since, as we saw, it doesn&#8217;t care about <code>nsswitch.conf</code></p>
<ul>
<li>
<h3>Set <code>nsswitch.conf</code> to only look at &#8216;dns&#8217;</h3>
</li>
</ul>
<p>If you set the <code>hosts</code> line in <code>nsswitch.conf</code> to be &#8216;just&#8217; dns:</p>
<p><code>hosts: dns</code></p>
<p>Then a <code>ping</code> to google.com will now succeed again:</p>
<pre class="p1"><span class="s1">$ ping -c1 google.com
</span><span class="s1">PING google.com (216.58.198.174) 56(84) bytes of data.
</span><span class="s1">64 bytes from lhr25s10-in-f174.1e100.net (216.58.198.174): icmp_seq=1</span> ttl=63 time=8.01 ms</pre>
<p>But <code>localhost</code> is not found this time:</p>
<pre class="p1"><span class="s1">$ ping -c1 localhost
</span><span class="s1">ping: unknown host localhost</span></pre>
<p>Here&#8217;s a diagram of what&#8217;s going on with NSSwitch by default wrt <code>hosts</code> lookup:</p>
<hr />
<p><img data-attachment-id="4426" data-permalink="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/linux-dns-2-1/" data-orig-file="https://zwischenzugs.files.wordpress.com/2018/06/linux-dns-2-11.png" data-orig-size="366,472" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="linux-dns-2 (1)" data-image-description="" data-medium-file="https://zwischenzugs.files.wordpress.com/2018/06/linux-dns-2-11.png?w=233" data-large-file="https://zwischenzugs.files.wordpress.com/2018/06/linux-dns-2-11.png?w=366" class=" size-full wp-image-4426 aligncenter" src="https://zwischenzugs.files.wordpress.com/2018/06/linux-dns-2-11.png?w=1100" alt="linux-dns-2 (1)" srcset="https://zwischenzugs.files.wordpress.com/2018/06/linux-dns-2-11.png 366w, https://zwischenzugs.files.wordpress.com/2018/06/linux-dns-2-11.png?w=116 116w, https://zwischenzugs.files.wordpress.com/2018/06/linux-dns-2-11.png?w=233 233w" sizes="(max-width: 366px) 100vw, 366px"   /></p>
<p style="text-align:center;"><em><strong>My default &#8216;<code>hosts:</code>&#8216; configuration in <code>nsswitch.conf</code></strong></em></p>
<p>&nbsp;</p>
<hr />
<h2>3) <code>/etc/resolv.conf</code></h2>
<p>We&#8217;ve seen now that <code>host</code> and <code>ping</code> both look at this <code>/etc/resolv.conf</code> file.</p>
<p>Here&#8217;s what my <code>/etc/resolv.conf</code> looks like:</p>
<pre class="p1"><span class="s1"># Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)</span>
<span class="s1"># <span class="Apple-converted-space">    </span>DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN</span>
<span class="s1">nameserver 10.0.2.3</span></pre>
<p>Ignore the first two lines &#8211; we&#8217;ll come back to those (they are significant, but you&#8217;re not ready for that ball of wool yet).</p>
<p>The <code>nameserver</code> lines specify the DNS servers to look up the host for.</p>
<p>If you hash out that line:</p>
<pre class="p1"><span class="s1">#nameserver 10.0.2.3</span></pre>
<p>and run:</p>
<pre>$ ping -c1 google.com
<span class="s1">ping: unknown host google.com
</span></pre>
<p>it fails, because there&#8217;s no nameserver to go to (*).</p>
<h6 style="text-align:right;">* Another rabbit hole: <code>host</code> appears to fall back to<br />
127.0.0.1:53 if there&#8217;s no nameserver specified.</h6>
<p>This file takes other options too. For example, if you add this line to the <code>resolv.conf</code> file:</p>
<pre>search com</pre>
<p>and then <code>ping google</code> (sic)</p>
<pre>$ ping google
<span class="s1">PING google.com (216.58.204.14) 56(84) bytes of data.</span></pre>
<p>it will try the <code>.com</code> domain automatically for you.</p>
<h2>End of Part I</h2>
<p>That&#8217;s the end of Part I. The next part will start by looking at how that resolv.conf gets created and updated.</p>
<p>Here&#8217;s what you covered above:</p>
<ul>
<li>There&#8217;s no &#8216;DNS lookup&#8217; call in the OS</li>
<li>Different programs figure out the IP of an address in different ways
<ul>
<li>For example, <code>ping</code> uses <code>nsswitch</code>, which in turn uses (or can use) <code>/etc/hosts</code>, <code>/etc/resolv.conf</code> and its own hostname to get the result</li>
</ul>
</li>
<li><code>/etc/resolv.conf</code> helps decide:
<ul>
<li>which addresses get called</li>
<li>which DNS server to look up</li>
</ul>
</li>
</ul>
<p>If you thought that was complicated, buckle up&#8230;</p>
<hr />
<div id="primary" class="content-area">
<article id="post-4383" class="post-4383 post type-post status-publish format-standard hentry category-uncategorized">
<div class="entry-content">
<p><em><strong>If you like this, you might like one of my books:<br />
</strong></em></p>
<p><em><strong><a href="https://leanpub.com/learngitthehardway?p=4369">Learn Git the Hard Way</a></strong></em></p>
<p><em><strong><a href="https://leanpub.com/learnterraformthehardway">Learn Terraform the Hard Way</a></strong></em></p>
<p><em><strong><a href="https://leanpub.com/learnbashthehardway?p=4369">Learn Bash the Hard Way</a></strong></em><br />
<a href="https://leanpub.com/learngitthehardway" target="_blank" rel="noopener"><img data-attachment-id="4278" data-permalink="https://zwischenzugs.com/learngitthehardway/" data-orig-file="https://zwischenzugs.files.wordpress.com/2018/03/learngitthehardway.png" data-orig-size="1410,2250" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="learngitthehardway" data-image-description="" data-medium-file="https://zwischenzugs.files.wordpress.com/2018/03/learngitthehardway.png?w=188" data-large-file="https://zwischenzugs.files.wordpress.com/2018/03/learngitthehardway.png?w=642" class=" size-medium wp-image-4278 alignleft" title="" src="https://zwischenzugs.files.wordpress.com/2018/03/learngitthehardway.png?w=188&#038;h=300" alt="learngitthehardway" width="188" height="300" srcset="https://zwischenzugs.files.wordpress.com/2018/03/learngitthehardway.png?w=188&amp;h=300 188w, https://zwischenzugs.files.wordpress.com/2018/03/learngitthehardway.png?w=376&amp;h=600 376w, https://zwischenzugs.files.wordpress.com/2018/03/learngitthehardway.png?w=94&amp;h=150 94w" sizes="(max-width: 188px) 100vw, 188px" /></a></p>
<p>&nbsp;</p>
</div>
</article>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><em><strong><a href="https://leanpub.com/learnterraformthehardway"><img data-attachment-id="4422" data-permalink="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/learn_terraform_the_hard_way/" data-orig-file="https://zwischenzugs.files.wordpress.com/2018/06/learn_terraform_the_hard_way.jpg" data-orig-size="1410,2250" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Learn_terraform_the_hard_way" data-image-description="" data-medium-file="https://zwischenzugs.files.wordpress.com/2018/06/learn_terraform_the_hard_way.jpg?w=188" data-large-file="https://zwischenzugs.files.wordpress.com/2018/06/learn_terraform_the_hard_way.jpg?w=642" class=" size-medium wp-image-4422 alignleft" src="https://zwischenzugs.files.wordpress.com/2018/06/learn_terraform_the_hard_way.jpg?w=188&#038;h=300" alt="Learn_terraform_the_hard_way" width="188" height="300" srcset="https://zwischenzugs.files.wordpress.com/2018/06/learn_terraform_the_hard_way.jpg?w=188&amp;h=300 188w, https://zwischenzugs.files.wordpress.com/2018/06/learn_terraform_the_hard_way.jpg?w=376&amp;h=600 376w, https://zwischenzugs.files.wordpress.com/2018/06/learn_terraform_the_hard_way.jpg?w=94&amp;h=150 94w" sizes="(max-width: 188px) 100vw, 188px" /></a></strong></em></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div>
<div id="primary" class="content-area">
<article id="post-4383" class="post-4383 post type-post status-publish format-standard hentry category-uncategorized">
<div class="entry-content">
<p><a href="https://leanpub.com/learnbashthehardway"><img data-attachment-id="4192" data-permalink="https://zwischenzugs.com/2018/01/06/ten-things-i-wish-id-known-about-bash/hero/" data-orig-file="https://zwischenzugs.files.wordpress.com/2018/01/hero.png" data-orig-size="600,957" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="hero" data-image-description="" data-medium-file="https://zwischenzugs.files.wordpress.com/2018/01/hero.png?w=188" data-large-file="https://zwischenzugs.files.wordpress.com/2018/01/hero.png?w=600" class=" size-medium wp-image-4192 alignleft" title="" src="https://zwischenzugs.files.wordpress.com/2018/01/hero.png?w=188&#038;h=300" alt="hero" width="188" height="300" srcset="https://zwischenzugs.files.wordpress.com/2018/01/hero.png?w=188&amp;h=300 188w, https://zwischenzugs.files.wordpress.com/2018/01/hero.png?w=376&amp;h=600 376w, https://zwischenzugs.files.wordpress.com/2018/01/hero.png?w=94&amp;h=150 94w" sizes="(max-width: 188px) 100vw, 188px" /></a></p>
</div>
</article>
</div>
</div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div></div>
<div>
<p><em><strong>Or you might like </strong></em><a href="https://www.manning.com/books/docker-in-practice-second-edition?a_aid=zwischenzugs&amp;a_bid=550032fc"><em><strong>Docker in Practice</strong></em></a></p>
<div id="primary" class="content-area">
<article id="post-4383" class="post-4383 post type-post status-publish format-standard hentry category-uncategorized">
<div class="entry-content">
<p><a href="https://www.manning.com/books/docker-in-practice-second-edition?a_aid=zwischenzugs&amp;a_bid=550032fc"><img class="progressiveMedia-image js-progressiveMedia-image alignleft" src="https://zwischenzugs.files.wordpress.com/2017/03/5d342-0v9jkbliyi3uzefqq.jpg?w=640" /></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em"><a href="https://www.manning.com/books/docker-in-practice-second-edition?a_aid=zwischenzugs&amp;a_bid=550032fc">Get 39% off Docker in Practice with the code: 39miell2</a></em></strong></p>
</div>
</article>
</div>
</div>
<div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"><div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-official sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-email"><a rel="nofollow noopener noreferrer" data-shared="" class="share-email sd-button" href="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/?share=email" target="_blank" title="Click to email this to a friend"><span>Email</span></a></li><li class="share-linkedin"><div class="linkedin_button"><script type="in/share" data-url="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/" data-counter="right"></script></div></li><li class="share-reddit"><div class="reddit_button"><iframe src="https://www.reddit.com/static/button/button1.html?newwindow=true&width=120&amp;url=https%3A%2F%2Fzwischenzugs.com%2F2018%2F06%2F08%2Fanatomy-of-a-linux-dns-lookup-part-i%2F&amp;title=Anatomy%20of%20a%20Linux%20DNS%20Lookup%20-%20Part%20I" height="22" width="120" scrolling="no" frameborder="0"></iframe></div></li><li class="share-twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/" data-text="Anatomy of a Linux DNS Lookup - Part I" data-via="ianmiell" data-related="wordpressdotcom">Tweet</a></li><li class="share-tumblr"><a class="tumblr-share-button" target="_blank" href="https://www.tumblr.com/share" data-title="Anatomy of a Linux DNS Lookup - Part I" data-content="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/" title="Share on Tumblr">Share on Tumblr</a></li><li class="share-pocket"><div class="pocket_button"><a href="https://getpocket.com/save" class="pocket-btn" data-lang="en" data-save-url="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/" data-pocket-count="horizontal" >Pocket</a></div></li><li class="share-facebook"><div class="fb-share-button" data-href="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/" data-layout="button_count"></div></li><li class="share-end"></li></ul></div></div></div><div class='sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded' id='like-post-wrapper-20870870-4421-5dec8a45b2c0e' data-src='//widgets.wp.com/likes/index.html?ver=20190321#blog_id=20870870&amp;post_id=4421&amp;origin=zwischenzugs.wordpress.com&amp;obj_id=20870870-4421-5dec8a45b2c0e&amp;domain=zwischenzugs.com' data-name='like-post-frame-20870870-4421-5dec8a45b2c0e'><h3 class='sd-title'>Like this:</h3><div class='likes-widget-placeholder post-likes-widget-placeholder' style='height: 55px;'><span class='button'><span>Like</span></span> <span class="loading">Loading...</span></div><span class='sd-text-color'></span><a class='sd-link-color'></a></div>
<div id='jp-relatedposts' class='jp-relatedposts' >
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div></div>	</div><!-- .entry-content -->

	<div class="entry-footer">
			</div><!-- .entry-footer -->

	<div class="entry-author-wrapper">
			<div class="entry-author author-avatar-show">
				<div class="author-avatar">
			<img alt='' src='https://1.gravatar.com/avatar/4f37af910d4d089ee4a4b5d4782ca78e?s=80&#038;d=identicon&#038;r=G' class='avatar avatar-80' height='80' width='80' />		</div><!-- .author-avatar -->
		
		<div class="author-heading">
			<h2 class="author-title">Published by <span class="author-name">zwischenzugs</span></h2>
		</div><!-- .author-heading -->

		<p class="author-bio">
						<a class="author-link" href="https://zwischenzugs.com/author/zwischenzugs/" rel="author">
				View all posts by zwischenzugs			</a>
		</p><!-- .author-bio -->
	</div><!-- .entry-auhtor -->
		<div class="site-posted-on">
			<strong>Published</strong>
			<time class="entry-date published" datetime="2018-06-08T16:15:48+01:00">June 8, 2018</time><time class="updated" datetime="2018-12-24T14:36:50+00:00">December 24, 2018</time>		</div><!-- .site-posted-on -->
	</div>
</article><!-- #post-## -->

			
	<nav class="navigation post-navigation" role="navigation" aria-label="Posts">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="https://zwischenzugs.com/2018/05/22/a-docker-image-in-less-than-1000-bytes/" rel="prev"><span class="meta-nav screen-reader-text">Previous Post</span> A Docker Image in Less Than 1000&nbsp;Bytes</a></div><div class="nav-next"><a href="https://zwischenzugs.com/2018/06/18/anatomy-of-a-linux-dns-lookup-part-ii/" rel="next"><span class="meta-nav screen-reader-text">Next Post</span> Anatomy of a Linux DNS Lookup &#8211; Part&nbsp;II</a></div></div>
	</nav>
			
<div id="comments" class="comments-area">

	
			<h2 class="comments-title">
			16 thoughts on &ldquo;<span>Anatomy of a Linux DNS Lookup &#8211; Part&nbsp;I</span>&rdquo;		</h2><!-- .comments-title -->

		
		<ol class="comment-list">
					<li id="comment-2311" class="pingback even thread-even depth-1 highlander-comment">
			<div class="comment-body">
				Pingback: <a href='https://thechrisshort.wordpress.com/2018/06/09/recommended-read-anatomy-of-a-linux-dns-lookup-part-i/' rel='external nofollow ugc' class='url'>Recommended Read: Anatomy of a Linux DNS Lookup – Part I | thechrisshort</a> 			</div>
		</li><!-- #comment-## -->
		<li id="comment-2312" class="comment odd alt thread-odd thread-alt depth-1 parent highlander-comment">
			<article id="div-comment-2312" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://2.gravatar.com/avatar/b6557884aacb394c9cbd2e7008666612?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />						<b class="fn">Gordon Messmer</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/#comment-2312">
							<time datetime="2018-06-09T17:08:40+01:00">
								June 9, 2018 at 5:08 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>This is a good write-up.  I think there are a couple of things you could add, because the POSIX DNS API is actually a little more complex than this, even.</p>
<p>(First, to pick a nit: What you&#8217;re describing has nothing to do with Linux.  The specification is POSIX, and the implementation is GNU.  All of this applies equally to GNU/Windows, aka WSL or &#8220;bash on Windows&#8221;, where there is no Linux component.)</p>
<p>GNU libc provides three different name resolution APIs.  There is the low-level DNS resolver library (RESOLVER(3)) which implements a BSD specification, there is gethostbyname (GETHOSTBYNAME(3)) and its related functions which implement an obsolete POSIX specification, and there is getaddrinfo (GETADDRINFO(3)) which is the modern POSIX API for name resolution.</p>
<p>Applications fall into one of maybe three categories.  Maybe two.  It&#8217;s subjective.  The first is older applications which still use the obsolete gethostbyname() API.  The second is newer applications that use getaddrinfo().  Both of those will go through the GNU libc NSS service, so they&#8217;ll parse /etc/nsswitch.conf, and from there they might use /etc/hosts, /etc/resolv.conf, /etc/hostname, and they might also use multicast DNS or an NSS caching service like nscd or sssd.  The getaddrinfo API will also consult /etc/gai.conf to order address results according to system preference.</p>
<p>The third group of applications (or second group, depending on your point of view) is applications that don&#8217;t use the POSIX NSS APIs at all.  This includes the &#8220;host&#8221; utility, because &#8220;host&#8221; is actually one of the applications included with ISC BIND, and it is intended specifically to interface with DNS directly, and not the system NSS API.  It also includes applications like Firefox which bypass NSS and implement their own DNS API for performance reasons.  And it includes applications which need access to records other than A and AAAA records.  Such applications will need to use the resolver library or their own DNS client library to access MX or TXT records.</p>
<p>I also want to note that &#8220;ping localhost&#8221; should not fail when nsswitch refers only to DNS.  A DNS server is required by RFC to resolve the name &#8220;localhost&#8221;.  The DNS service that you&#8217;re using is not compliant with standards, due to a configuration error.</p>
<p>And, finally, that the documentation for gethostbyname indicates that it will fall back to a DNS server on 127.0.0.1, just like ISC&#8217;s &#8220;host&#8221; application.  The documentation for getaddrinfo does not contain such a note, but I suspect that it will do the same since those are both part of GNU libc&#8217;s NSS API.</p>
<p>Thanks for the write-up.  I hope this helps.</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/?replytocom=2312#respond' data-commentid="2312" data-postid="4421" data-belowelement="div-comment-2312" data-respondelement="respond" aria-label='Reply to Gordon Messmer'>Reply</a></div>			</article><!-- .comment-body -->
		<ol class="children">
		<li id="comment-2313" class="comment byuser comment-author-zwischenzugs bypostauthor even depth-2 highlander-comment">
			<article id="div-comment-2313" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://1.gravatar.com/avatar/4f37af910d4d089ee4a4b5d4782ca78e?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />						<b class="fn"><a href='https://zwischenzugs.wordpress.com' rel='external nofollow ugc' class='url'>zwischenzugs</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/#comment-2313">
							<time datetime="2018-06-10T13:32:06+01:00">
								June 10, 2018 at 1:32 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>This ^^^ is absolute gold, thank you so much for posting it. I&#8217;ll work it in as I go. Some of it I knew but didn&#8217;t want to overwhelm the reader, but a lot of it I did not know at all.</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/?replytocom=2313#respond' data-commentid="2313" data-postid="4421" data-belowelement="div-comment-2313" data-respondelement="respond" aria-label='Reply to zwischenzugs'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-2324" class="pingback odd alt thread-even depth-1 highlander-comment">
			<div class="comment-body">
				Pingback: <a href='https://zwischenzugs.com/2018/06/18/anatomy-of-a-linux-dns-lookup-part-ii/' rel='external nofollow ugc' class='url'>Anatomy of a Linux DNS Lookup &#8211; Part II &#8211; zwischenzugs</a> 			</div>
		</li><!-- #comment-## -->
		<li id="comment-2326" class="comment even thread-odd thread-alt depth-1 parent highlander-comment">
			<article id="div-comment-2326" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://i2.wp.com/graph.facebook.com/v2.9/10160592516005714/picture?q=type%3Dlarge%26_md5%3Dc86ae98e2809d931e70b1da052f4f041&#038;resize=48%2C48' class='avatar avatar-48' height='48' width='48' />						<b class="fn"><a href='https://www.facebook.com/app_scoped_user_id/YXNpZADpBWEVwNnVLZA3FxdEJxOFlKSlhkcHdBVERRd2VsNkNMaHd4OWQ0el9zRGVHbzhfQjVvT0xhQUkxa09VYjJkNnpaRzh6SEN0d29ZARTAzUGt4U1draW5kMkQ5VVZALRTR0ZAjl0Wm5C/' rel='external nofollow ugc' class='url'>Khurram Subhani</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/#comment-2326">
							<time datetime="2018-06-19T14:52:45+01:00">
								June 19, 2018 at 2:52 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>maybe a silly question to ask: How does nsswitch.conf know what files or dns is/pointing to? Is there a config file which points &#8216;files&#8217; to&#8217;/etc/hosts&#8217;. The reason why I am asking is that I saw above &#8216;myhostname&#8217; as an option which points to /etc/hosts &amp; /etc/hostnames</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/?replytocom=2326#respond' data-commentid="2326" data-postid="4421" data-belowelement="div-comment-2326" data-respondelement="respond" aria-label='Reply to Khurram Subhani'>Reply</a></div>			</article><!-- .comment-body -->
		<ol class="children">
		<li id="comment-2327" class="comment byuser comment-author-zwischenzugs bypostauthor odd alt depth-2 highlander-comment">
			<article id="div-comment-2327" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://1.gravatar.com/avatar/4f37af910d4d089ee4a4b5d4782ca78e?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />						<b class="fn"><a href='https://zwischenzugs.wordpress.com' rel='external nofollow ugc' class='url'>zwischenzugs</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/#comment-2327">
							<time datetime="2018-06-19T15:08:15+01:00">
								June 19, 2018 at 3:08 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>It&#8217;s not a silly question, it&#8217;s just the kind of question I need to ask and answer to write these things.</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/?replytocom=2327#respond' data-commentid="2327" data-postid="4421" data-belowelement="div-comment-2327" data-respondelement="respond" aria-label='Reply to zwischenzugs'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-2328" class="comment byuser comment-author-zwischenzugs bypostauthor even depth-2 highlander-comment">
			<article id="div-comment-2328" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://1.gravatar.com/avatar/4f37af910d4d089ee4a4b5d4782ca78e?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />						<b class="fn"><a href='https://zwischenzugs.wordpress.com' rel='external nofollow ugc' class='url'>zwischenzugs</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/#comment-2328">
							<time datetime="2018-06-19T16:01:00+01:00">
								June 19, 2018 at 4:01 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>The man nsswitch.conf page suggests they&#8217;re hard-coded. You could get the source and examine it to be sure&#8230;</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/?replytocom=2328#respond' data-commentid="2328" data-postid="4421" data-belowelement="div-comment-2328" data-respondelement="respond" aria-label='Reply to zwischenzugs'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-2361" class="comment odd alt thread-even depth-1 highlander-comment">
			<article id="div-comment-2361" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://1.gravatar.com/avatar/d9a28add06fb797902f7a9f48e3b5076?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />						<b class="fn">Uwe</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/#comment-2361">
							<time datetime="2018-06-22T20:25:20+01:00">
								June 22, 2018 at 8:25 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>that&#8217;s exactly the reason why I always use getent hosts example.org when shell scripting. it uses the c call, queries the system&#8217;s host database and honors nsswitch. the rabbit hole goes even deeper .I&#8217;ve seen a dozen of different output formats from host &#8211; a nightmare to parse but I won&#8217;t go into details</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/?replytocom=2361#respond' data-commentid="2361" data-postid="4421" data-belowelement="div-comment-2361" data-respondelement="respond" aria-label='Reply to Uwe'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-2427" class="pingback even thread-odd thread-alt depth-1 highlander-comment">
			<div class="comment-body">
				Pingback: <a href='https://zwischenzugs.com/2018/07/06/anatomy-of-a-linux-dns-lookup-part-iii/' rel='external nofollow ugc' class='url'>Anatomy of a Linux DNS Lookup &#8211; Part III &#8211; zwischenzugs</a> 			</div>
		</li><!-- #comment-## -->
		<li id="comment-2438" class="pingback odd alt thread-even depth-1 highlander-comment">
			<div class="comment-body">
				Pingback: <a href='https://0ddn1x.wordpress.com/2018/07/07/dns-lookup-tutorial-1/' rel='external nofollow ugc' class='url'>DNS lookup tutorial (1) | 0ddn1x: tricks with *nix</a> 			</div>
		</li><!-- #comment-## -->
		<li id="comment-2457" class="pingback even thread-odd thread-alt depth-1 highlander-comment">
			<div class="comment-body">
				Pingback: <a href='http://techrights.org/2018/07/10/gnu-helps-journalism/' rel='external nofollow ugc' class='url'>Links 10/7/2018: Wine 3.12, FreeNAS 11.2 Beta, GNU Helps Journalism | Techrights</a> 			</div>
		</li><!-- #comment-## -->
		<li id="comment-2474" class="pingback odd alt thread-even depth-1 highlander-comment">
			<div class="comment-body">
				Pingback: <a href='http://code-ogre.com/2018/07/14/weekly-devops-news-1/' rel='external nofollow ugc' class='url'>Weekly DevOps News #1 - Codeogre</a> 			</div>
		</li><!-- #comment-## -->
		<li id="comment-2554" class="pingback even thread-odd thread-alt depth-1 highlander-comment">
			<div class="comment-body">
				Pingback: <a href='https://zwischenzugs.com/2018/08/06/anatomy-of-a-linux-dns-lookup-part-iv/' rel='external nofollow ugc' class='url'>Anatomy of a Linux DNS Lookup &#8211; Part IV &#8211; zwischenzugs</a> 			</div>
		</li><!-- #comment-## -->
		<li id="comment-2764" class="pingback odd alt thread-even depth-1 highlander-comment">
			<div class="comment-body">
				Pingback: <a href='https://zwischenzugs.com/2018/09/13/anatomy-of-a-linux-dns-lookup-part-v-two-debug-nightmares/' rel='external nofollow ugc' class='url'>Anatomy of a Linux DNS Lookup &#8211; Part V &#8211; Two Debug Nightmares &#8211; zwischenzugs</a> 			</div>
		</li><!-- #comment-## -->
		<li id="comment-20087" class="pingback even thread-odd thread-alt depth-1 highlander-comment">
			<div class="comment-body">
				Pingback: <a href='http://blog.intigriti.com/2019/06/18/bug-bytes-23-20k-idor-trick-bug-bounty-vloggers-everywhere-persistent-burp-collaborator/' rel='external nofollow ugc' class='url'>Bug Bytes #23 &#8211; 20K IDOR Trick, Bug Bounty Vloggers everywhere &amp; Persistent Burp Collaborator &#8211; INTIGRITI</a> 			</div>
		</li><!-- #comment-## -->
		<li id="comment-32131" class="comment odd alt thread-even depth-1 highlander-comment">
			<article id="div-comment-32131" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='https://0.gravatar.com/avatar/c67247083efd336b8b596d94169a98cd?s=48&#038;d=identicon&#038;r=G' class='avatar avatar-48' height='48' width='48' />						<b class="fn">andhe</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/#comment-32131">
							<time datetime="2019-12-01T17:15:26+00:00">
								December 1, 2019 at 5:15 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>You kind of already toughed on it with the host utility, but for extra points on how screwed up things are you could look at things that does not use the C standard library (libc). An &#8220;interesting&#8221; read is diving into how golang applications resolves things. The golang library tries to guess things about nss and fake it. A testcase to show how broken it is can for example be to install nss-myhostname and rm /etc/hosts &#8230; The nss module should allow you to resolve localhost and your hostname, but since golang lib doesn&#8217;t actually call into the libc and thus nss stack it doesn&#8217;t work. Run tcpdump and you&#8217;ll see the queries go to your (isp) dns resolver!</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/?replytocom=32131#respond' data-commentid="32131" data-postid="4421" data-belowelement="div-comment-32131" data-respondelement="respond" aria-label='Reply to andhe'>Reply</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		
	
	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/#respond" style="display:none;">Cancel reply</a></small></h3><form action="https://zwischenzugs.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><input type="hidden" id="highlander_comment_nonce" name="highlander_comment_nonce" value="f50e09a52c" /><input type="hidden" name="_wp_http_referer" value="/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/" />
<input type="hidden" name="hc_post_as" id="hc_post_as" value="guest" />

<div class="comment-form-field comment-textarea">
	<label for="comment">Enter your comment here...</label>
	<div id="comment-form-comment"><textarea id="comment" name="comment" title="Enter your comment here..."></textarea></div>
</div>

<div id="comment-form-identity">
	<div id="comment-form-nascar">
		<p>Fill in your details below or click an icon to log in:</p>
		<ul>
			<li class="selected" style="display:none;">
				<a href="#comment-form-guest" id="postas-guest" class="nascar-signin-link"
                   title="Login via Guest">
									</a>
			</li>
			<li>
				<a href="#comment-form-load-service:WordPress.com" id="postas-wordpress" class="nascar-signin-link"
                   title="Login via WordPress.com">
					<svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24" ><rect x="0" fill="none" width="24" height="24"/><g><path fill="#0087be" d="M12.158 12.786l-2.698 7.84c.806.236 1.657.365 2.54.365 1.047 0 2.05-.18 2.986-.51-.024-.037-.046-.078-.065-.123l-2.762-7.57zM3.008 12c0 3.56 2.07 6.634 5.068 8.092L3.788 8.342c-.5 1.117-.78 2.354-.78 3.658zm15.06-.454c0-1.112-.398-1.88-.74-2.48-.456-.74-.883-1.368-.883-2.11 0-.825.627-1.595 1.51-1.595.04 0 .078.006.116.008-1.598-1.464-3.73-2.36-6.07-2.36-3.14 0-5.904 1.613-7.512 4.053.21.008.41.012.58.012.94 0 2.395-.114 2.395-.114.484-.028.54.684.057.74 0 0-.487.058-1.03.086l3.275 9.74 1.968-5.902-1.4-3.838c-.485-.028-.944-.085-.944-.085-.486-.03-.43-.77.056-.742 0 0 1.484.114 2.368.114.94 0 2.397-.114 2.397-.114.486-.028.543.684.058.74 0 0-.488.058-1.03.086l3.25 9.665.897-2.997c.456-1.17.684-2.137.684-2.907zm1.82-3.86c.04.286.06.593.06.924 0 .912-.17 1.938-.683 3.22l-2.746 7.94c2.672-1.558 4.47-4.454 4.47-7.77 0-1.564-.4-3.033-1.1-4.314zM12 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10z"/></g></svg>				</a>
			</li>
			<li>
			<li>
				<a href="#comment-form-load-service:Twitter" id="postas-twitter" class="nascar-signin-link"
                   title="Login via Twitter">
					<svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24" ><rect x="0" fill="none" width="24" height="24"/><g><path fill="#1DA1F2" d="M22.23 5.924c-.736.326-1.527.547-2.357.646.847-.508 1.498-1.312 1.804-2.27-.793.47-1.67.812-2.606.996C18.325 4.498 17.258 4 16.078 4c-2.266 0-4.103 1.837-4.103 4.103 0 .322.036.635.106.935-3.41-.17-6.433-1.804-8.457-4.287-.353.607-.556 1.312-.556 2.064 0 1.424.724 2.68 1.825 3.415-.673-.022-1.305-.207-1.86-.514v.052c0 1.988 1.415 3.647 3.293 4.023-.344.095-.707.145-1.08.145-.265 0-.522-.026-.773-.074.522 1.63 2.038 2.817 3.833 2.85-1.404 1.1-3.174 1.757-5.096 1.757-.332 0-.66-.02-.98-.057 1.816 1.164 3.973 1.843 6.29 1.843 7.547 0 11.675-6.252 11.675-11.675 0-.178-.004-.355-.012-.53.802-.578 1.497-1.3 2.047-2.124z"/></g></svg>				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Facebook" id="postas-facebook" class="nascar-signin-link"
                   title="Login via Facebook">
					<svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24" ><rect x="0" fill="none" width="24" height="24"/><g><path fill="#3B5998" d="M20.007 3H3.993C3.445 3 3 3.445 3 3.993v16.013c0 .55.445.994.993.994h8.62v-6.97H10.27V11.31h2.346V9.31c0-2.325 1.42-3.59 3.494-3.59.993 0 1.847.073 2.096.106v2.43h-1.438c-1.128 0-1.346.537-1.346 1.324v1.734h2.69l-.35 2.717h-2.34V21h4.587c.548 0 .993-.445.993-.993V3.993c0-.548-.445-.993-.993-.993z"/></g></svg>				</a>
			</li>
		</ul>
	</div>

	<div id="comment-form-guest" class="comment-form-service selected">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
<a href="https://gravatar.com/site/signup/" target="_blank">				<img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Gravatar" width="25" class="no-grav" />
</a>			</div>

				<div class="comment-form-fields">
				<div class="comment-form-field comment-form-email">
					<label for="email">Email <span class="required">(required)</span> <span class="nopublish">(Address never made public)</span></label>
					<div class="comment-form-input"><input id="email" name="email" type="email" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-author">
					<label for="author">Name <span class="required">(required)</span></label>
					<div class="comment-form-input"><input id="author" name="author" type="text" value="" /></div>
				</div>
				<div class="comment-form-field comment-form-url">
					<label for="url">Website</label>
					<div class="comment-form-input"><input id="url" name="url" type="url" value="" /></div>
				</div>
			</div>
			
		</div>
	</div>

	<div id="comment-form-wordpress" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="WordPress.com Logo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="wp_avatar" id="wordpress-avatar" class="comment-meta-wordpress" value="" />
				<input type="hidden" name="wp_user_id" id="wordpress-user_id" class="comment-meta-wordpress" value="" />
				<input type="hidden" name="wp_access_token" id="wordpress-access_token" class="comment-meta-wordpress" value="" />
						<p class="comment-form-posting-as pa-wordpress">
			<strong></strong>
			You are commenting using your WordPress.com account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'wordpress' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24" ><rect x="0" fill="none" width="24" height="24"/><g><path fill="#0087be" d="M12.158 12.786l-2.698 7.84c.806.236 1.657.365 2.54.365 1.047 0 2.05-.18 2.986-.51-.024-.037-.046-.078-.065-.123l-2.762-7.57zM3.008 12c0 3.56 2.07 6.634 5.068 8.092L3.788 8.342c-.5 1.117-.78 2.354-.78 3.658zm15.06-.454c0-1.112-.398-1.88-.74-2.48-.456-.74-.883-1.368-.883-2.11 0-.825.627-1.595 1.51-1.595.04 0 .078.006.116.008-1.598-1.464-3.73-2.36-6.07-2.36-3.14 0-5.904 1.613-7.512 4.053.21.008.41.012.58.012.94 0 2.395-.114 2.395-.114.484-.028.54.684.057.74 0 0-.487.058-1.03.086l3.275 9.74 1.968-5.902-1.4-3.838c-.485-.028-.944-.085-.944-.085-.486-.03-.43-.77.056-.742 0 0 1.484.114 2.368.114.94 0 2.397-.114 2.397-.114.486-.028.543.684.058.74 0 0-.488.058-1.03.086l3.25 9.665.897-2.997c.456-1.17.684-2.137.684-2.907zm1.82-3.86c.04.286.06.593.06.924 0 .912-.17 1.938-.683 3.22l-2.746 7.94c2.672-1.558 4.47-4.454 4.47-7.77 0-1.564-.4-3.033-1.1-4.314zM12 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10z"/></g></svg></span>
		</p>
					</div>
	
		</div>
	</div>

	<div id="comment-form-googleplus" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Google photo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="googleplus_avatar" id="googleplus-avatar" class="comment-meta-googleplus" value="" />
				<input type="hidden" name="googleplus_user_id" id="googleplus-user_id" class="comment-meta-googleplus" value="" />
				<input type="hidden" name="googleplus_access_token" id="googleplus-access_token" class="comment-meta-googleplus" value="" />
						<p class="comment-form-posting-as pa-googleplus">
			<strong></strong>
			You are commenting using your Google account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'googleplus' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" x="0px" y="0px" viewBox="0 0 60 60" ><path fill="#519bf7" d="M56.3,30c0,-1.6 -0.2,-3.4 -0.6,-5h-3.1H42.2H30v10.6h14.8C44,39.3 42,42 39.1,43.9l8.8,6.8C53,46 56.3,39 56.3,30z" /><path fill="#3db366" d="M30,57.5c6.7,0 13.1,-2.4 17.9,-6.8l-8.8,-6.8c-2.5,1.6 -5.6,2.4 -9.1,2.4c-7.2,0 -13.3,-4.7 -15.4,-11.2l-9.3,7.1C9.8,51.3 19.1,57.5 30,57.5z" /><path fill="#fdc600" d="M5.3,42.2l9.3,-7.1c-0.5,-1.6 -0.8,-3.3 -0.8,-5.1s0.3,-3.5 0.8,-5.1l-9.3,-7.1C3.5,21.5 2.5,25.6 2.5,30S3.5,38.5 5.3,42.2z" /><path fill="#f15b44" d="M40.1,17.4l8,-8C43.3,5.1 37,2.5 30,2.5C19.1,2.5 9.8,8.7 5.3,17.8l9.3,7.1c2.1,-6.5 8.2,-11.1 15.4,-11.1C33.9,13.7 37.4,15.1 40.1,17.4z" /></svg></span>
		</p>
					</div>
	
		</div>
	</div>

	<div id="comment-form-twitter" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Twitter picture" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="twitter_avatar" id="twitter-avatar" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_user_id" id="twitter-user_id" class="comment-meta-twitter" value="" />
				<input type="hidden" name="twitter_access_token" id="twitter-access_token" class="comment-meta-twitter" value="" />
						<p class="comment-form-posting-as pa-twitter">
			<strong></strong>
			You are commenting using your Twitter account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'twitter' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24" ><rect x="0" fill="none" width="24" height="24"/><g><path fill="#1DA1F2" d="M22.23 5.924c-.736.326-1.527.547-2.357.646.847-.508 1.498-1.312 1.804-2.27-.793.47-1.67.812-2.606.996C18.325 4.498 17.258 4 16.078 4c-2.266 0-4.103 1.837-4.103 4.103 0 .322.036.635.106.935-3.41-.17-6.433-1.804-8.457-4.287-.353.607-.556 1.312-.556 2.064 0 1.424.724 2.68 1.825 3.415-.673-.022-1.305-.207-1.86-.514v.052c0 1.988 1.415 3.647 3.293 4.023-.344.095-.707.145-1.08.145-.265 0-.522-.026-.773-.074.522 1.63 2.038 2.817 3.833 2.85-1.404 1.1-3.174 1.757-5.096 1.757-.332 0-.66-.02-.98-.057 1.816 1.164 3.973 1.843 6.29 1.843 7.547 0 11.675-6.252 11.675-11.675 0-.178-.004-.355-.012-.53.802-.578 1.497-1.3 2.047-2.124z"/></g></svg></span>
		</p>
					</div>
	
		</div>
	</div>

	<div id="comment-form-facebook" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Facebook photo" width="25" class="no-grav" />
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="fb_avatar" id="facebook-avatar" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_user_id" id="facebook-user_id" class="comment-meta-facebook" value="" />
				<input type="hidden" name="fb_access_token" id="facebook-access_token" class="comment-meta-facebook" value="" />
						<p class="comment-form-posting-as pa-facebook">
			<strong></strong>
			You are commenting using your Facebook account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'facebook' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24" ><rect x="0" fill="none" width="24" height="24"/><g><path fill="#3B5998" d="M20.007 3H3.993C3.445 3 3 3.445 3 3.993v16.013c0 .55.445.994.993.994h8.62v-6.97H10.27V11.31h2.346V9.31c0-2.325 1.42-3.59 3.494-3.59.993 0 1.847.073 2.096.106v2.43h-1.438c-1.128 0-1.346.537-1.346 1.324v1.734h2.69l-.35 2.717h-2.34V21h4.587c.548 0 .993-.445.993-.993V3.993c0-.548-.445-.993-.993-.993z"/></g></svg></span>
		</p>
					</div>
	
		</div>
	</div>


	<div id="comment-form-load-service" class="comment-form-service">
		<div class="comment-form-posting-as-cancel"><a href="javascript:HighlanderComments.cancelExternalWindow();">Cancel</a></div>
		<p>Connecting to %s</p>
	</div>

</div>

<script type="text/javascript">
var highlander_expando_javascript = function(){
	var input = document.createElement( 'input' ),
	    comment = jQuery( '#comment' );

	if ( 'placeholder' in input ) {
		comment.attr( 'placeholder', jQuery( '.comment-textarea label' ).remove().text() );
	}

	// Expando Mode: start small, then auto-resize on first click + text length
	jQuery( '#comment-form-identity' ).hide();
	jQuery( '#comment-form-subscribe' ).hide();
	jQuery( '#commentform .form-submit' ).hide();

	comment.css( { 'height':'10px' } ).one( 'focus', function() {
		var timer = setInterval( HighlanderComments.resizeCallback, 10 )
		jQuery( this ).animate( { 'height': HighlanderComments.initialHeight } ).delay( 100 ).queue( function(n) { clearInterval( timer ); HighlanderComments.resizeCallback(); n(); } );
		jQuery( '#comment-form-identity' ).slideDown();
		jQuery( '#comment-form-subscribe' ).slideDown();
		jQuery( '#commentform .form-submit' ).slideDown();
	});
}
jQuery(document).ready( highlander_expando_javascript );
</script>

<div id="comment-form-subscribe">
	<p class="comment-subscription-form"><input type="checkbox" name="subscribe" id="subscribe" value="subscribe" style="width: auto;"/> <label class="subscribe-label" id="subscribe-label" for="subscribe" style="display: inline;">Notify me of new comments via email.</label></p><p class="post-subscription-form"><input type="checkbox" name="subscribe_blog" id="subscribe_blog" value="subscribe" style="width: auto;"/> <label class="subscribe-label" id="subscribe-blog-label" for="subscribe_blog"  style="display: inline;">Notify me of new posts via email.</label></p></div>




<p class="form-submit"><input name="submit" type="submit" id="comment-submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='4421' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="effeee3d08" /></p>
<input type="hidden" name="genseq" value="1575782981" />
<p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="231"/></p></form>	</div><!-- #respond -->
	<div style="clear: both"></div><p class="akismet_comment_form_privacy_notice">This site uses Akismet to reduce spam. <a href="https://akismet.com/privacy/" target="_blank" rel="nofollow noopener">Learn how your comment data is processed</a>.</p>
</div><!-- #comments -->

		
		</main><!-- #main -->
	</div><!-- #primary -->

<div id="secondary" class="widget-area" role="complementary">
	<aside id="twitter_timeline-3" class="widget widget_twitter_timeline"><h1 class="widget-title">Follow me on Twitter</h1><a class="twitter-timeline" data-height="400" data-theme="light" data-link-color="#f96e5b" data-border-color="#e8e8e8" data-lang="EN" data-partner="jetpack" href="https://twitter.com/ianmiell" href="https://twitter.com/ianmiell">My Tweets</a></aside><aside id="top-posts-3" class="widget widget_top-posts"><h1 class="widget-title">Top Posts &amp; Pages</h1><ul>				<li>
					<a href="https://zwischenzugs.com/2019/11/27/the-first-non-bullshit-book-about-culture-ive-read/" class="bump-view" data-bump-view="tp">The First Non-Bullshit Book About Culture I&#039;ve Read</a>					</li>
								<li>
					<a href="https://zwischenzugs.com/2018/01/26/how-and-why-i-run-my-own-dns-servers/" class="bump-view" data-bump-view="tp">How (and Why) I Run My Own DNS Servers</a>					</li>
								<li>
					<a href="https://zwischenzugs.com/2018/01/06/ten-things-i-wish-id-known-about-bash/" class="bump-view" data-bump-view="tp">Ten Things I Wish I&#039;d Known About bash</a>					</li>
								<li>
					<a href="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/" class="bump-view" data-bump-view="tp" aria-current="page">Anatomy of a Linux DNS Lookup - Part I</a>					</li>
								<li>
					<a href="https://zwischenzugs.com/2016/08/29/bash-to-python-converter/" class="bump-view" data-bump-view="tp">Bash to Python Converter</a>					</li>
								<li>
					<a href="https://zwischenzugs.com/2019/11/06/why-everyone-working-in-devops-should-read-the-toyota-way/" class="bump-view" data-bump-view="tp">Why Everyone Working in DevOps Should Read The Toyota Way</a>					</li>
								<li>
					<a href="https://zwischenzugs.com/2017/04/23/things-i-wish-i-knew-before-using-jenkins-pipelines/" class="bump-view" data-bump-view="tp">Ten Things I Wish I&#039;d Known Before Using Jenkins Pipelines</a>					</li>
								<li>
					<a href="https://zwischenzugs.com/2019/03/25/aws-vs-k8s-is-the-new-windows-vs-linux/" class="bump-view" data-bump-view="tp">&#039;AWS vs K8s&#039; is the new &#039;Windows vs Linux&#039;</a>					</li>
								<li>
					<a href="https://zwischenzugs.com/2017/10/27/ten-things-i-wish-id-known-before-using-vagrant/" class="bump-view" data-bump-view="tp">Ten Things I Wish I&#039;d Known Before Using Vagrant</a>					</li>
								<li>
					<a href="https://zwischenzugs.com/2018/06/18/anatomy-of-a-linux-dns-lookup-part-ii/" class="bump-view" data-bump-view="tp">Anatomy of a Linux DNS Lookup - Part II</a>					</li>
				</ul></aside>		<aside id="recent-posts-8" class="widget widget_recent_entries">		<h1 class="widget-title">Recent Posts</h1>		<ul>
											<li>
					<a href="https://zwischenzugs.com/2019/11/27/the-first-non-bullshit-book-about-culture-ive-read/">The First Non-Bullshit Book About Culture I&#8217;ve&nbsp;Read</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2019/11/06/why-everyone-working-in-devops-should-read-the-toyota-way/">Why Everyone Working in DevOps Should Read The Toyota&nbsp;Way</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2019/09/27/surgically-busting-the-docker-cache/">Surgically Busting the Docker&nbsp;Cache</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2019/09/22/software-security-field-guide-for-the-bewildered/">Software Security Field Guide for the&nbsp;Bewildered</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2019/09/04/the-lazy-persons-guide-to-the-info-command/">The Lazy Person&#8217;s Guide to the Info&nbsp;Command</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2019/08/30/a-hot-take-on-github-actions/">A Hot Take on GitHub&nbsp;Actions</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2019/08/25/seven-god-like-bash-history-shortcuts-you-will-actually-use/">Seven God-Like Bash History Shortcuts You Will Actually&nbsp;Use</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2019/08/15/how-long-will-it-take-for-the-leavers-to-leave/">How Long Will It Take For The Leavers To&nbsp;Leave?</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2019/07/27/goodbye-docker-purging-is-such-sweet-sorrow/">Goodbye Docker: Purging is Such Sweet&nbsp;Sorrow</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2019/05/11/seven-surprising-bash-variables/">Seven Surprising Bash&nbsp;Variables</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2019/04/23/the-missing-readline-primer/">The Missing Readline&nbsp;Primer</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2019/04/12/apples-hq-ruskin-gothic-architecture-and-agile/">Apple&#8217;s HQ, Ruskin, Gothic Architecture, and&nbsp;Agile</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2019/04/03/eight-obscure-bash-options-you-might-want-to-know-about/">Eight Obscure Bash Options You Might Want to Know&nbsp;About</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2019/03/25/aws-vs-k8s-is-the-new-windows-vs-linux/">&#8216;AWS vs K8s&#8217; is the new &#8216;Windows vs&nbsp;Linux&#8217;</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2019/03/16/pranking-the-bash-binary/">Pranking the Bash&nbsp;Binary</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2019/02/27/bash-startup-explained/">Bash Startup Explained</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2019/01/09/git-hooks-the-hard-way/">Git Hooks the Hard&nbsp;Way</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2019/01/02/notes-on-books-read-in-2018/">Notes on Books Read in&nbsp;2018</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/11/25/six-ways-to-level-up-your-nmap-game/">Six Ways to Level Up Your nmap&nbsp;Game</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/10/30/five-things-i-wish-id-known-about-git/">Five Things I Wish I&#8217;d Known About&nbsp;Git</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/10/12/eleven-bash-tips-you-might-want-to-know/">Eleven bash Tips You Might Want to&nbsp;Know</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/10/09/learn-bash-debugging-techniques-the-hard-way/">Learn Bash Debugging Techniques the Hard&nbsp;Way</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/10/02/why-are-enterprises-so-slow/">Why Are Enterprises So&nbsp;Slow?</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/09/13/anatomy-of-a-linux-dns-lookup-part-v-two-debug-nightmares/">Anatomy of a Linux DNS Lookup &#8211; Part V &#8211; Two Debug&nbsp;Nightmares</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/08/06/anatomy-of-a-linux-dns-lookup-part-iv/">Anatomy of a Linux DNS Lookup &#8211; Part&nbsp;IV</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/07/06/anatomy-of-a-linux-dns-lookup-part-iii/">Anatomy of a Linux DNS Lookup &#8211; Part&nbsp;III</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/06/18/anatomy-of-a-linux-dns-lookup-part-ii/">Anatomy of a Linux DNS Lookup &#8211; Part&nbsp;II</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/" aria-current="page">Anatomy of a Linux DNS Lookup &#8211; Part&nbsp;I</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/05/22/a-docker-image-in-less-than-1000-bytes/">A Docker Image in Less Than 1000&nbsp;Bytes</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/05/21/autotrace-debug-on-steroids/">Autotrace &#8211; Debug on&nbsp;Steroids</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/05/14/beyond-punk-rock-git-in-eleven-steps/">Beyond &#8216;Punk Rock Git&#8217; in Eleven&nbsp;Steps</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/05/05/sandboxing-docker-with-googles-gvisor/">Sandboxing Docker with Google&#8217;s&nbsp;gVisor</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/04/23/unprivileged-docker-builds-a-proof-of-concept/">Unprivileged Docker Builds &#8211; A Proof of&nbsp;Concept</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/04/05/learn-git-rebase-interactively/">Learn Git Rebase&nbsp;Interactively</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/03/27/terminal-perf-graphs-in-one-command/">Terminal Perf Graphs in one&nbsp;Command</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/03/26/git-log-the-good-parts/">git log &#8211; the Good&nbsp;Parts</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/03/14/five-key-git-concepts-explained-the-hard-way/">Five Key Git Concepts Explained the Hard&nbsp;Way</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/03/08/create-your-own-git-diagrams/">Create Your Own Git&nbsp;Diagrams</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/02/24/5-things-i-did-to-change-a-teams-culture/">Five Things I Did to Change a Team&#8217;s&nbsp;Culture</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/02/05/centralise-your-bash-history/">Centralise Your Bash&nbsp;History</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/01/26/how-and-why-i-run-my-own-dns-servers/">How (and Why) I Run My Own DNS&nbsp;Servers</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/01/21/ten-more-things-i-wish-id-known-about-bash/">Ten More Things I Wish I&#039;d Known About&nbsp;bash</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/01/18/download-a-free-sample-of-learn-bash-the-hard-way/">Download a Free Sample of Learn Bash the Hard&nbsp;Way</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2018/01/06/ten-things-i-wish-id-known-about-bash/">Ten Things I Wish I&#8217;d Known About&nbsp;bash</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/12/18/project-management-as-code-with-graphviz/">Project Management as Code with&nbsp;Graphviz</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/12/11/how-to-manually-clear-locks-in-jenkins/">How to Manually Clear Locks in&nbsp;Jenkins</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/12/03/how-i-manage-my-time/">How I Manage My&nbsp;Time</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/11/25/ten-things-i-wish-id-known-about-chef/">Ten Things I Wish I&#8217;d Known About&nbsp;Chef</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/11/18/__trashed-4/">Vagrant and Ohai / Chef IP Address&nbsp;Hack</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/11/11/towards-a-national-computer-grid-electronic-computers-1965/">&#8216;Towards a National Computer Grid&#8217; &#8211; Electronic Computers,&nbsp;1965</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/10/31/a-complete-chef-infrastructure-on-your-laptop/">A Complete Chef Infrastructure on Your&nbsp;Laptop</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/10/27/ten-things-i-wish-id-known-before-using-vagrant/">Ten Things I Wish I&#8217;d Known Before Using&nbsp;Vagrant</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/10/23/a-checklist-for-docker-in-the-enterprise-updated/">A Checklist for Docker in the Enterprise&nbsp;(Updated)</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/10/21/openshift-3-6-dns-in-pictures/">OpenShift 3.6 DNS In&nbsp;Pictures</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/10/16/puppeteer-headless-chrome-in-a-container/">Puppeteer &#8211; Headless Chrome in a&nbsp;Container</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/10/15/my-20-year-experience-of-software-development-methodologies/">My 20-Year Experience of Software Development&nbsp;Methodologies</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/08/07/a-non-cloud-serverless-application-pattern-using-git-and-docker/">A Non-Cloud Serverless Application Pattern Using Git and&nbsp;Docker</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/07/31/run-your-own-aws-apis-on-openshift/">Run Your Own AWS APIs on&nbsp;OpenShift</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/07/15/dockerized-headless-chrome-example/">Dockerized Headless Chrome&nbsp;Example</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/06/18/convert-any-server-to-a-docker-container-update-ii/">Convert a Server to a Docker Container (Update&nbsp;II)</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/05/06/automating-dockerized-jenkins-upgrades/">Automating Dockerized Jenkins&nbsp;Upgrades</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/04/23/things-i-wish-i-knew-before-using-jenkins-pipelines/">Ten Things I Wish I&#8217;d Known Before Using Jenkins&nbsp;Pipelines</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/04/11/five-books-i-advise-every-devops-engineer-to-read/">Five Books I Advise Every DevOps Engineer to&nbsp;Read</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/04/04/things-i-learned-managing-site-reliability-for-some-of-the-worlds-busiest-gambling-sites/">Things I Learned Managing Site Reliability for Some of the World&#8217;s Busiest Gambling&nbsp;Sites</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/03/18/clustered-vm-testing-how-to/">Clustered VM Testing&nbsp;How-To</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/03/04/easy-shell-automation/">Easy Shell Automation</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/03/04/1-minute-multi-node-vm-setup/">1-Minute Multi-Node VM Setup</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/03/04/migrating-an-openshift-etcd-cluster/">Migrating an OpenShift etcd&nbsp;Cluster</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/03/04/a-complete-openshift-cluster-on-vagrant-step-by-step/">A Complete OpenShift Cluster on Vagrant, Step by&nbsp;Step</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/03/04/learn-kubernetes-the-hard-way-the-easy-and-cheap-way/">Learn Kubernetes the Hard Way (the Easy and Cheap&nbsp;Way)</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/03/04/docker-in-the-enterprise/">Docker in the&nbsp;Enterprise</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2017/02/21/terraform-and-dynamic-environments/">Terraform and Dynamic&nbsp;Environments</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2016/08/29/bash-to-python-converter/">Bash to Python&nbsp;Converter</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2016/07/22/hello-world-unikernel-walkthrough/">Hello world Unikernel&nbsp;Walkthrough</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2016/07/08/a-checklist-for-docker-in-the-enterprise/">A checklist for Docker in the&nbsp;Enterprise</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2016/06/23/a-quick-tour-of-docker-1-12/">A Quick Tour of Docker&nbsp;1.12</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2016/06/04/power-git-log-graphing/">Power &#8216;git log&#8217;&nbsp;graphing</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2016/05/21/ssh-r-reverse-tunnel-man-page-hell/">ssh -R (reverse tunnel) man page&nbsp;hell</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2016/05/15/writing-a-technical-book/">Writing a Technical&nbsp;Book</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2016/04/24/interactive-git-tutorials-rebase-and-bisect/">Interactive Git Tutorials &#8211; Rebase and&nbsp;Bisect</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2016/04/12/hitler-uses-docker-annotated/">Hitler Uses Docker,&nbsp;Annotated</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2016/04/05/linux-scales/">Linux Scales</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2016/04/05/play-with-kubernetes-quickly-using-docker-updated/">Play With Kubernetes Quickly Using Docker&nbsp;(Updated)</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2016/04/04/convert-any-server-to-a-docker-container-updated/">Convert Any Server to a Docker Container&nbsp;(Updated)</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2016/02/25/922/">CI as Code Part III: Dynamic Jenkins-Swarm&nbsp;Example</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2016/02/06/docker-1-10-highlights/">Docker 1.10 Highlights &#8211;&nbsp;Updated</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2016/01/30/ci-as-code-part-ii-stateless-jenkins-with-dynamic-docker-slaves/">CI as Code Part II: Stateless Jenkins With Dynamic Docker&nbsp;Slaves</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2016/01/24/ci-as-code-stateless-jenkins-deployments-using-docker/">CI as Code Part I: Stateless Jenkins Deployments Using&nbsp;Docker</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/12/22/docker-ecosystem-rosetta-stones/">Docker Ecosystem Rosetta&nbsp;Stones</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/12/17/understanding-docker-a-tour-of-logical-volume-management/">Understanding Docker &#8211; A Tour of Logical Volume&nbsp;Management</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/12/17/888/">Automating Docker Security&nbsp;Validation</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/11/26/the-it-crowd-was-right-what-i-learned-by-reading-a-lot-of-rfcs/">The IT Crowd Was Right &#8211; What I learned by reading a lot of&nbsp;RFCs</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/11/21/understanding-docker-network-namespaces/">Understanding Docker &#8211; Network&nbsp;Namespaces</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/11/17/dockerconeu-2015-talk-you-know-more-than-you-think/">DockerConEU 2015 Talk &#8211; You Know More Than You&nbsp;Think</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/10/11/docker-migration-in-flight-criu/">Docker Migration In-Flight&nbsp;CRIU</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/08/26/a-high-availability-phoenix-and-ab-deployment-framework-using-docker/">A High Availability Phoenix and A/B Deployment Framework using&nbsp;Docker</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/08/06/quick-intro-to-kubernetes/">Quick Intro to&nbsp;Kubernetes</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/07/18/take-openshift-for-a-spin-in-four-commands/">Take OpenShift for a spin in four&nbsp;commands</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/07/04/redhats-docker-build-method-s2i-2/">RedHat&#039;s Docker Build Method &#8211;&nbsp;S2I</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/07/04/redhats-docker-build-method-s2i/">RedHat&#8217;s Docker Build Method &#8211;&nbsp;S2I</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/07/01/bash-shortcuts-gem/">Bash Shortcuts Gem</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/06/28/a-coreos-cluster-in-two-minutes-with-four-commands/">A CoreOS Cluster in Two Minutes With Four&nbsp;Commands</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/06/24/the-most-pointless-docker-command-ever/">The Most Pointless Docker Command&nbsp;Ever</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/06/14/my-favourite-docker-tip/">My Favourite Docker&nbsp;Tip</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/05/24/convert-any-server-to-a-docker-container/">Convert Any Server to a Docker&nbsp;Container</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/05/21/a-field-guide-to-docker-security-measures/">A Field Guide to Docker Security&nbsp;Measures</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/04/29/docker-selinux-experimentation-with-reduced-pain/">Docker SELinux Experimentation with Reduced&nbsp;Pain</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/04/20/storage-drivers-and-docker/">Storage Drivers and&nbsp;Docker</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/04/06/play-with-kubernetes-quickly-using-docker/">Play With Kubernetes Quickly Using&nbsp;Docker</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/04/01/play-with-an-openshift-paas-using-docker/">Play with an OpenShift PaaS using&nbsp;Docker</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/03/19/scale-your-jenkins-compute-with-your-dev-team-use-docker-and-jenkins-swarm/">Scale Your Jenkins Compute With Your Dev Team: Use Docker and Jenkins&nbsp;Swarm</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/03/14/docker-in-practice-a-guide-for-engineers/">Docker in Practice &#8211; A Guide for&nbsp;Engineers</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/02/21/fight-docker-package-drift/">Fight Docker Package&nbsp;Drift!</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/02/01/win-at-2048-with-docker-and-shutit-redux/">Win at 2048  with Docker and ShutIt&nbsp;(Redux)</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/01/26/set-up-a-deis-docker-friendly-paas-on-digital-ocean-for-0-18-per-hour-in-six-easy-steps-using-shutit/">Set Up a Deis (Docker-Friendly) Paas on Digital Ocean for $0.18 Per Hour in Six Easy Steps Using&nbsp;ShutIt</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/01/14/create-your-own-coreos-cluster-in-6-easy-steps-for-0-03/">Create your own CoreOS cluster in 6 easy steps for&nbsp;$0.03</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2015/01/12/make-your-own-bespoke-docker-image/">Make Your Own Bespoke Docker&nbsp;Image</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2014/11/08/taming-slaves-with-docker-and-shutit/">Taming Slaves with Docker and&nbsp;ShutIt</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2014/10/27/docker-one-year-on/">Docker &#8211; One Year&nbsp;On</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2014/10/07/using-shutit-to-build-your-own-taiga-server/">Using ShutIt to Build Your Own Taiga&nbsp;Server</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2014/09/15/using-shutit-and-docker-to-play-with-aws-part-two/">Using ShutIt and Docker to play with AWS (Part&nbsp;Two)</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2014/09/04/talk-on-docker-and-shutit/">Talk on Docker and&nbsp;ShutIt</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2014/08/09/using-shutit-and-docker-to-play-with-aws-part-one/">Using ShutIt and Docker to play with AWS (Part&nbsp;One)</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2014/07/16/phoenix-deployment-pain-and-win/">Phoenix deployment pain (and&nbsp;win)</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2014/06/07/phoenix-deployment-with-docker-and-shutit/">Phoenix Deployment with Docker and&nbsp;ShutIt</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2014/05/27/docker-shutit-and-the-perfect-2048-game-videos/">Docker, ShutIt and the Perfect 2048 Game&nbsp;(Videos)</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2014/05/23/docker-shutit-and-the-perfect-2048-game-4-halfway-there/">Docker, ShutIt and the Perfect 2048 Game (4 &#8211; Halfway&nbsp;There)</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2014/05/21/docker-shutit-and-the-perfect-2048-game-3-brute-force-escapes/">Docker, ShutIt and the Perfect 2048 Game (3 &#8211; Brute Force&nbsp;Escapes)</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2014/05/20/docker-shutit-and-the-perfect-2048-game-2/">Docker, ShutIt and the Perfect 2048 Game&nbsp;(2)</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2014/05/09/docker-shutit-and-the-perfect-2048-game/">Docker, ShutIt, and The Perfect 2048&nbsp;Game</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2011/08/29/my-favourite-secret-weapon-strace/">My Favourite Secret Weapon &#8211;&nbsp;strace</a>
									</li>
											<li>
					<a href="https://zwischenzugs.com/2011/03/06/shakespeare_unexceptional_vocabulary/">Shakespeare&#8217;s Vocabulary Considered&nbsp;Unexceptional</a>
									</li>
					</ul>
		</aside><aside id="follow_button_widget-5" class="widget widget_follow_button_widget">
		<a class="wordpress-follow-button" href="https://zwischenzugs.com" data-blog="https://zwischenzugs.com" data-lang="en" >Follow zwischenzugs on WordPress.com</a>
		<script type="text/javascript">(function(d){var f = d.getElementsByTagName('SCRIPT')[0], p = d.createElement('SCRIPT');p.type = 'text/javascript';p.async = true;p.src = '//widgets.wp.com/platform.js';f.parentNode.insertBefore(p,f);}(document));</script>

		</aside></div><!-- #secondary -->
<script type='text/javascript'>
								var _gaq = _gaq || [];
								_gaq.push(['_setAccount', 'UA-96483456-3']);
_gaq.push(['_trackPageview']);

								(function() {
									var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
									ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
									var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
								})();
							</script>

		</div><!-- #content -->

		<footer id="colophon" class="site-footer" role="contentinfo">
						<div class="site-info">
				<a href="https://wordpress.com/?ref=footer_custom_com" rel="nofollow">WordPress.com</a>.
				
							</div><!-- .site-info -->
		</footer><!-- #colophon -->
	</div><!-- #content-wrapper -->
</div><!-- #page -->

<!--  -->
<script src='//0.gravatar.com/js/gprofiles.js?ver=201949y'></script>
<script>
var WPGroHo = {"my_hash":""};
</script>
<script type='text/javascript' src='https://s1.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1380573781h'></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {

			if (typeof Gravatar === "undefined"){
				return;
			}

			if ( typeof Gravatar.init !== "function" ) {
				return;
			}			

			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	<div class="grofile-hash-map-4f37af910d4d089ee4a4b5d4782ca78e">
	</div>
	<div class="grofile-hash-map-b6557884aacb394c9cbd2e7008666612">
	</div>
	<div class="grofile-hash-map-4f37af910d4d089ee4a4b5d4782ca78e">
	</div>
	<div class="grofile-hash-map-caa00083152b5897e327f6ccca47993c">
	</div>
	<div class="grofile-hash-map-d9a28add06fb797902f7a9f48e3b5076">
	</div>
	<div class="grofile-hash-map-c67247083efd336b8b596d94169a98cd">
	</div>
	</div>
<script>
var HighlanderComments = {"loggingInText":"Logging In\u2026","submittingText":"Posting Comment\u2026","postCommentText":"Post Comment","connectingToText":"Connecting to %s","commentingAsText":"%1$s: You are commenting using your %2$s account.","logoutText":"Log Out","loginText":"Log In","connectURL":"https:\/\/zwischenzugs.wordpress.com\/public.api\/connect\/?action=request&domain=zwischenzugs.com","logoutURL":"https:\/\/zwischenzugs.wordpress.com\/wp-login.php?action=logout&_wpnonce=c5f636f619","homeURL":"https:\/\/zwischenzugs.com\/","postID":"4421","gravDefault":"identicon","enterACommentError":"Please enter a comment","enterEmailError":"Please enter your email address here","invalidEmailError":"Invalid email address","enterAuthorError":"Please enter your name here","gravatarFromEmail":"This picture will show whenever you leave a comment. Click to customize it.","logInToExternalAccount":"Log in to use details from one of these accounts.","change":"Change","changeAccount":"Change Account","comment_registration":"","userIsLoggedIn":"","isJetpack":"","text_direction":"ltr"};
</script>
<script type='text/javascript' src='https://s0.wp.com/_static/??/wp-content/js/jquery/jquery.autoresize.js,/wp-content/mu-plugins/highlander-comments/script.js?m=1573483029j'></script>

	<div id="carousel-reblog-box">
		<form action="#" name="carousel-reblog">
			<textarea id="carousel-reblog-content" name="carousel-reblog-content" placeholder="Add your thoughts here... (optional)"></textarea>
			<label for="carousel-reblog-to-blog-id" id="carousel-reblog-lblogid">Post to</label>
			<select name="carousel-reblog-to-blog-id" id="carousel-reblog-to-blog-id">
						</select>

			<div class="submit">
				<span class="canceltext"><a href="#" class="cancel">Cancel</a></span>
				<input type="submit" name="carousel-reblog-submit" class="button" id="carousel-reblog-submit" value="Reblog Post" />
				<input type="hidden" id="carousel-reblog-blog-id" value="20870870" />
				<input type="hidden" id="carousel-reblog-blog-url" value="https://zwischenzugs.com" />
				<input type="hidden" id="carousel-reblog-blog-title" value="zwischenzugs" />
				<input type="hidden" id="carousel-reblog-post-url" value="" />
				<input type="hidden" id="carousel-reblog-post-title" value="" />
			</div>

			<input type="hidden" id="_wpnonce" name="_wpnonce" value="def4c82d59" /><input type="hidden" name="_wp_http_referer" value="/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/" />		</form>

		<div class="arrow"></div>
	</div>

	<script type="text/javascript">
		window.WPCOM_sharing_counts = {"https:\/\/zwischenzugs.com\/2018\/06\/08\/anatomy-of-a-linux-dns-lookup-part-i\/":4421};
	</script>
					<div id="sharing_email" style="display: none;">
		<form action="/2018/06/08/anatomy-of-a-linux-dns-lookup-part-i/" method="post">
			<label for="target_email">Send to Email Address</label>
			<input type="email" name="target_email" id="target_email" value="" />

			
				<label for="source_name">Your Name</label>
				<input type="text" name="source_name" id="source_name" value="" />

				<label for="source_email">Your Email Address</label>
				<input type="email" name="source_email" id="source_email" value="" />

						<input type="text" id="jetpack-source_f_name" name="source_f_name" class="input" value="" size="25" autocomplete="off" title="This field is for validation and should not be changed" />
			
			<div
				class="g-recaptcha"
				data-sitekey="6LcmyE0UAAAAALID28yVNg7pFCodGaArJzHitez_"
				data-theme="light"
				data-type="image"
				data-tabindex="0"></div>
			<script type="text/javascript" src="https://www.google.com/recaptcha/api.js?hl=en" async></script>
			
			<img style="float: right; display: none" class="loading" src="https://s2.wp.com/wp-content/mu-plugins/post-flair/sharing/images/loading.gif" alt="loading" width="16" height="16" />
			<input type="submit" value="Send Email" class="sharing_send" />
			<a rel="nofollow" href="#cancel" class="sharing_cancel" role="button">Cancel</a>

			<div class="errors errors-1" style="display: none;">
				Post was not sent - check your email addresses!			</div>

			<div class="errors errors-2" style="display: none;">
				Email check failed, please try again			</div>

			<div class="errors errors-3" style="display: none;">
				Sorry, your blog cannot share posts by email.			</div>
		</form>
	</div>
<script type="text/javascript">
			jQuery( document ).ready( function() {
				jQuery.getScript( 'https://platform.linkedin.com/in.js?async=true', function success() {
					IN.init();
				});
			});
			jQuery( document.body ).on( 'post-load', function() {
				if ( typeof IN != 'undefined' )
					IN.parse();
			});
			</script>			<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
			<script id="tumblr-js" type="text/javascript" src="https://assets.tumblr.com/share-button.js"></script>		<script>
		// Don't use Pocket's default JS as it we need to force init new Pocket share buttons loaded via JS.
		function jetpack_sharing_pocket_init() {
			jQuery.getScript( 'https://widgets.getpocket.com/v1/j/btn.js?v=1' );
		}
		jQuery( document ).ready( jetpack_sharing_pocket_init );
		jQuery( document.body ).on( 'post-load', jetpack_sharing_pocket_init );
		</script>
		<div id="fb-root"></div>
			<script>(function(d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&appId=249643311490&version=v2.3'; fjs.parentNode.insertBefore(js, fjs); }(document, 'script', 'facebook-jssdk'));</script>
			<script>
			jQuery( document.body ).on( 'post-load', function() {
				if ( 'undefined' !== typeof FB ) {
					FB.XFBML.parse();
				}
			} );
			</script>
			<link rel='stylesheet' id='all-css-0-3' href='https://s2.wp.com/_static/??/wp-content/plugins/gutenberg-blocks/wpcom-blocks/blocks/front.css,/wp-content/mu-plugins/carousel/jetpack-carousel.css?m=1573041421j&cssminify=yes' type='text/css' media='all' />
<script>
var actionbardata = {"siteID":"20870870","siteName":"zwischenzugs","siteURL":"https:\/\/zwischenzugs.com","icon":"<img alt='' src='https:\/\/s2.wp.com\/i\/logo\/wpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/independent-publisher-2","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/wordpress.com\/log-in?redirect_to=https%3A%2F%2Fzwischenzugs.com%2F2018%2F06%2F08%2Fanatomy-of-a-linux-dns-lookup-part-i%2F&signup_flow=account&domain=zwischenzugs.com","themeURL":"https:\/\/wordpress.com\/theme\/independent-publisher-2\/","xhrURL":"https:\/\/zwischenzugs.com\/wp-admin\/admin-ajax.php","nonce":"ba82c56fd6","isSingular":"1","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"8c98f2ec64\" \/>","referer":"https:\/\/zwischenzugs.com\/2018\/06\/08\/anatomy-of-a-linux-dns-lookup-part-i\/","canFollow":"1","feedID":"74448812","statusMessage":"","customizeLink":"https:\/\/zwischenzugs.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fzwischenzugs.wordpress.com%2F2018%2F06%2F08%2Fanatomy-of-a-linux-dns-lookup-part-i%2F","postID":"4421","shortlink":"https:\/\/wp.me\/p1pzsW-19j","canEditPost":"","editLink":"https:\/\/wordpress.com\/post\/zwischenzugs.com\/4421","statsLink":"https:\/\/wordpress.com\/stats\/post\/4421\/zwischenzugs.com","i18n":{"view":"View site","follow":"Follow","following":"Following","edit":"Edit","login":"Log in","signup":"Sign up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: Independent Publisher 2","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editSubs":"Manage subscriptions","viewReader":"View site in Reader","viewReadPost":"View post in Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"Join 194 other followers","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/wordpress.com\/log-in?redirect_to=https%3A%2F%2Fzwischenzugs.com%2F2018%2F06%2F08%2Fanatomy-of-a-linux-dns-lookup-part-i%2F&signup_flow=account&domain=zwischenzugs.com\">Log in now.<\/a>","stats":"Stats"}};
</script>
<script>
var jetpackCarouselStrings = {"widths":[370,700,1000,1200,1400,2000],"is_logged_in":"","lang":"en","ajaxurl":"https:\/\/zwischenzugs.com\/wp-admin\/admin-ajax.php","nonce":"1919ade6af","display_exif":"1","display_geo":"1","single_image_gallery":"1","single_image_gallery_media_file":"","background_color":"black","comment":"Comment","post_comment":"Post Comment","write_comment":"Write a Comment...","loading_comments":"Loading Comments...","download_original":"View full size <span class=\"photo-size\">{0}<span class=\"photo-size-times\">\u00d7<\/span>{1}<\/span>","no_comment_text":"Please be sure to submit some text with your comment.","no_comment_email":"Please provide an email address to comment.","no_comment_author":"Please provide your name to comment.","comment_post_error":"Sorry, but there was an error posting your comment. Please try again later.","comment_approved":"Your comment was approved.","comment_unapproved":"Your comment is in moderation.","camera":"Camera","aperture":"Aperture","shutter_speed":"Shutter Speed","focal_length":"Focal Length","copyright":"Copyright","comment_registration":"0","require_name_email":"1","login_url":"https:\/\/zwischenzugs.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fzwischenzugs.com%2F2018%2F06%2F08%2Fanatomy-of-a-linux-dns-lookup-part-i%2F","blog_id":"20870870","meta_data":["camera","aperture","shutter_speed","focal_length","copyright"],"local_comments_commenting_as":"<fieldset><label for=\"email\">Email (Required)<\/label> <input type=\"text\" name=\"email\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-email-field\" \/><\/fieldset><fieldset><label for=\"author\">Name (Required)<\/label> <input type=\"text\" name=\"author\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-author-field\" \/><\/fieldset><fieldset><label for=\"url\">Website<\/label> <input type=\"text\" name=\"url\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-url-field\" \/><\/fieldset>","reblog":"Reblog","reblogged":"Reblogged","reblog_add_thoughts":"Add your thoughts here... (optional)","reblogging":"Reblogging...","post_reblog":"Post Reblog","stats_query_args":"blog=20870870&v=wpcom&tz=0&user_id=0&subd=zwischenzugs","is_public":"1","reblog_enabled":""};
</script>
<script>
var sharing_js_options = {"lang":"en","counts":"1","is_stats_active":"1"};
</script>
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJydUu1ugzAMfKGF7Kvq+mPao0whGDDkq7FD17ef2UpXVRXS+gfH5u58OdCHpGwMDIH1QLqBCS2kr2qgB33xyheVXOkwkHY4Aul9gQK9CY2DfA1ekF2RtobcqdpFO5JgbPRLcyowCUWoJXATD+Fai3vwsi6VWmNoIIE8BC+9Q+ohq+fZdjATdoYx3smnEZNyGEbVRltItXhOAIN1pREJgYl7P7MzJHesPN6zTfQ02YyJ1U8cK0kPwMnYUX/OHD4gsygwehCnsMIzjVhTtcnaGxKOnFScIGec73Ge/VOBs3ihNZKdP8BMOp9uhUjpL7fL+SC/VD6eSnWJurHLmhwLgVsyUstgzd+I5IHVS/X4G2kb81r8KRKr1hnMmnqTMXRLFdKHf3/abF9327fNZjd8A5HoOo0='></script>
<script type='text/javascript'>
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-facebook', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
</script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script>		<iframe src='https://widgets.wp.com/likes/master.html?ver=20190321#ver=20190321' scrolling='no' id='likes-master' name='likes-master' style='display:none;'></iframe>
		<div id='likes-other-gravatars'><div class="likes-text"><span>%d</span> bloggers like this:</div><ul class="wpl-avatars sd-like-gravatars"></ul></div>
<script src="//stats.wp.com/w.js?60" type="text/javascript" async defer></script>
<script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'20870870','blog_tz':'0','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'20870870','v':'wpcom','tz':'0','user_id':'0','post':'4421','subd':'zwischenzugs'}]);
_stq.push(['extra', {'crypt':'UE40eW5QN0p8M2Y/RE1TaVhzUzFMbjdWNHpwZGhTayxPSUFCMGNrd29+Smw0TDhnZmRTK0hlRi9QSGh6bi9GXVhBJWIlZlR5U1JMLU8/MkNtblkvY1dldi1Cdz1FW1N6S0NteFFsTTZdcCVqdmgvLFhfenh5LDhvTmx3RWZoQ29YRjVJWm89LW42X3ZoTl91a0R1c2d0N0VBXzFwLlk0NCZVcG8vckxDTnpPMGkuYj05ZUYwLHJDcCZySU12T1hYbC8wcEEmWTkyZHlmSTg3ZEFwc3BweE1mQjB+Z2kyTGNfbnd+ZHFuWUNSaXRlc3Y4ZE16L1t3NlZ3W1Nxa2pbdXhLdT1XTUxJd0hpaFVxdyZUSU84JUxzYXZZc1ppWHZbeEtJUXRsYU0xMGZLdytzanx+d3FvZiwzUlMla0t1SS9kMi9hLFFIRUlkfnpjLW9ddGp1dkd6OCxyM0s='}]);
_stq.push([ 'clickTrackerInit', '20870870', '4421' ]);
	</script>
<noscript><img src="https://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script>
</body>
</html>
<!--
	generated in 0.245 seconds
	127943 bytes batcached for 300 seconds
-->
